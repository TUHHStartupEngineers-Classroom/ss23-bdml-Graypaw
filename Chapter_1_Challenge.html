<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2020-07-24">

<title>MyLabJournal - Session 6 - Challenge - Company Segmentation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./assets/icons/favicon.svg" rel="icon" type="image/svg+xml">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">MyLabJournal</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-journal" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Journal</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-journal">    
        <li>
    <a class="dropdown-item" href="./Chapter_1_Challenge.html" rel="" target="">
 <span class="dropdown-text">First Challenge</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Chapter_2_Challenge.html" rel="" target="">
 <span class="dropdown-text">Second Challenge</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Chapter_3_Challenge.html" rel="" target="">
 <span class="dropdown-text">Third Challenge</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Chapter_4_Challenge.html" rel="" target="">
 <span class="dropdown-text">Fourth Challenge</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Chapter_5_Challenge.html" rel="" target="">
 <span class="dropdown-text">Fifth Challenge</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Chapter_6_Challenge.html" rel="" target="">
 <span class="dropdown-text">Sixth Challenge</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./content/02_notes/05_class_notes.html" rel="" target="">
 <span class="menu-text">Class notes</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./content/03_other/06_links.html" rel="" target="">
 <span class="menu-text">Links</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Session 6 - Challenge - Company Segmentation</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 24, 2020</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="challenge-summary" class="level1">
<h1>Challenge Summary</h1>
<p><strong>Your organization wants to know which companies are similar to each other to help in identifying potential customers of a SAAS software solution (e.g.&nbsp;Salesforce CRM or equivalent) in various segments of the market. The Sales Department is very interested in this analysis, which will help them more easily penetrate various market segments.</strong></p>
<p>You will be using stock prices in this analysis. You come up with a method to classify companies based on how their stocks trade using their daily stock returns (percentage movement from one day to the next). This analysis will help your organization determine which companies are related to each other (competitors and have similar attributes).</p>
<p>You can analyze the stock prices using what you’ve learned in the unsupervised learning tools including K-Means and UMAP. You will use a combination of <code>kmeans()</code> to find groups and <code>umap()</code> to visualize similarity of daily stock returns.</p>
</section>
<section id="objectives" class="level1">
<h1>Objectives</h1>
<p>Apply your knowledge on K-Means and UMAP along with <code>dplyr</code>, <code>ggplot2</code>, and <code>purrr</code> to create a visualization that identifies subgroups in the S&amp;P 500 Index. You will specifically apply:</p>
<ul>
<li>Modeling: <code>kmeans()</code> and <code>umap()</code></li>
<li>Iteration: <code>purrr</code></li>
<li>Data Manipulation: <code>dplyr</code>, <code>tidyr</code>, and <code>tibble</code></li>
<li>Visualization: <code>ggplot2</code> (bonus <code>plotly</code>)</li>
</ul>
</section>
<section id="libraries" class="level1">
<h1>Libraries</h1>
<p>Load the following libraries.</p>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-1_5b80e1f9feac5cfe84a6ec85a0c64a71">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("plotly")</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyquant)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(umap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data" class="level1">
<h1>Data</h1>
<p>We will be using stock prices in this analysis. Although some of you know already how to use an API to retrieve stock prices I obtained the stock prices for every stock in the S&amp;P 500 index for you already. The files are saved in the <code>session_6_data</code> directory.</p>
<p>We can read in the stock prices. The data is 1.2M observations. The most important columns for our analysis are:</p>
<ul>
<li><code>symbol</code>: The stock ticker symbol that corresponds to a company’s stock price</li>
<li><code>date</code>: The timestamp relating the symbol to the share price at that point in time</li>
<li><code>adjusted</code>: The stock price, adjusted for any splits and dividends (we use this when analyzing stock data over long periods of time)</li>
</ul>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-2_52e32915c5906ef7033a0a8c12d7ca58">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># STOCK PRICES</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>sp_500_prices_tbl <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">".</span><span class="sc">\\</span><span class="st">..</span><span class="sc">\\</span><span class="st">Business Decisions with Machine Learning</span><span class="sc">\\</span><span class="st">sp_500_prices_tbl.rds"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>sp_500_prices_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,225,765 × 8
   symbol date        open  high   low close   volume adjusted
   &lt;chr&gt;  &lt;date&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
 1 MSFT   2009-01-02  19.5  20.4  19.4  20.3 50084000     15.9
 2 MSFT   2009-01-05  20.2  20.7  20.1  20.5 61475200     16.0
 3 MSFT   2009-01-06  20.8  21    20.6  20.8 58083400     16.2
 4 MSFT   2009-01-07  20.2  20.3  19.5  19.5 72709900     15.2
 5 MSFT   2009-01-08  19.6  20.2  19.5  20.1 70255400     15.7
 6 MSFT   2009-01-09  20.2  20.3  19.4  19.5 49815300     15.2
 7 MSFT   2009-01-12  19.7  19.8  19.3  19.5 52163500     15.2
 8 MSFT   2009-01-13  19.5  20.0  19.5  19.8 65843500     15.5
 9 MSFT   2009-01-14  19.5  19.7  19.0  19.1 80257500     14.9
10 MSFT   2009-01-15  19.1  19.3  18.5  19.2 96169800     15.0
# ℹ 1,225,755 more rows</code></pre>
</div>
</div>
<p>The second data frame contains information about the stocks the most important of which are:</p>
<ul>
<li><code>company</code>: The company name</li>
<li><code>sector</code>: The sector that the company belongs to</li>
</ul>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-3_a21887d2c5dc610b09a6e0fb37d86435">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SECTOR INFORMATION</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>sp_500_index_tbl <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">".</span><span class="sc">\\</span><span class="st">..</span><span class="sc">\\</span><span class="st">Business Decisions with Machine Learning</span><span class="sc">\\</span><span class="st">sp_500_index_tbl.rds"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>sp_500_index_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    symbol                                             company       weight
1     MSFT                               Microsoft Corporation 3.589659e-02
2     AAPL                                          Apple Inc. 3.299844e-02
3     AMZN                                     Amazon.com Inc. 2.834845e-02
4    BRK.B                     Berkshire Hathaway Inc. Class B 1.714493e-02
5       FB                               Facebook Inc. Class A 1.676060e-02
6      JNJ                                   Johnson &amp; Johnson 1.570168e-02
7      JPM                                JPMorgan Chase &amp; Co. 1.507235e-02
8     GOOG                               Alphabet Inc. Class C 1.470747e-02
9    GOOGL                               Alphabet Inc. Class A 1.436854e-02
10     XOM                             Exxon Mobil Corporation 1.412361e-02
11     BAC                                Bank of America Corp 1.141184e-02
12     UNH                     UnitedHealth Group Incorporated 1.119696e-02
13       V                                   Visa Inc. Class A 1.093462e-02
14      PG                            Procter &amp; Gamble Company 1.053192e-02
15     PFE                                         Pfizer Inc. 1.052585e-02
16    INTC                                   Intel Corporation 1.012464e-02
17     CVX                                 Chevron Corporation 9.790428e-03
18      VZ                         Verizon Communications Inc. 9.784105e-03
19    CSCO                                  Cisco Systems Inc. 9.544976e-03
20       T                                           AT&amp;T Inc. 9.518933e-03
21      BA                                      Boeing Company 9.479343e-03
22      HD                                     Home Depot Inc. 9.332370e-03
23     WFC                               Wells Fargo &amp; Company 8.957703e-03
24     MRK                                    Merck &amp; Co. Inc. 8.915412e-03
25      MA                     Mastercard Incorporated Class A 8.635942e-03
26      KO                                   Coca-Cola Company 7.439485e-03
27   CMCSA                         Comcast Corporation Class A 7.368779e-03
28     DIS                                 Walt Disney Company 7.194712e-03
29     PEP                                        PepsiCo Inc. 7.023937e-03
30       C                                      Citigroup Inc. 6.744127e-03
31    NFLX                                        Netflix Inc. 6.680205e-03
32     WMT                                        Walmart Inc. 6.127690e-03
33     MCD                              McDonald's Corporation 5.961227e-03
34     ABT                                 Abbott Laboratories 5.673213e-03
35    ORCL                                  Oracle Corporation 5.649621e-03
36      PM                    Philip Morris International Inc. 5.569381e-03
37    ADBE                                          Adobe Inc. 5.423148e-03
38     IBM         International Business Machines Corporation 5.378546e-03
39     UNP                           Union Pacific Corporation 5.373873e-03
40    DWDP                                      DowDuPont Inc. 5.343558e-03
41     MDT                                       Medtronic plc 5.320276e-03
42    ABBV                                         AbbVie Inc. 5.227510e-03
43     MMM                                          3M Company 5.225519e-03
44     CRM                                 salesforce.com inc. 5.221497e-03
45    AMGN                                          Amgen Inc. 5.154364e-03
46    AVGO                                       Broadcom Inc. 5.010262e-03
47     LLY                               Eli Lilly and Company 4.959256e-03
48     HON                        Honeywell International Inc. 4.860377e-03
49    PYPL                                 PayPal Holdings Inc 4.796215e-03
50     NKE                                   NIKE Inc. Class B 4.662578e-03
51     UTX                     United Technologies Corporation 4.450672e-03
52     TXN                      Texas Instruments Incorporated 4.437206e-03
53     TMO                       Thermo Fisher Scientific Inc. 4.363659e-03
54     ACN                               Accenture Plc Class A 4.355615e-03
55    NVDA                                  NVIDIA Corporation 4.119677e-03
56    COST                        Costco Wholesale Corporation 4.072393e-03
57     LIN                                           Linde plc 3.986931e-03
58      MO                                    Altria Group Inc 3.917806e-03
59     CVS                              CVS Health Corporation 3.853464e-03
60    BKNG                               Booking Holdings Inc. 3.844550e-03
61     NEE                                 NextEra Energy Inc. 3.774455e-03
62      GE                            General Electric Company 3.767361e-03
63    SBUX                               Starbucks Corporation 3.765740e-03
64    GILD                                Gilead Sciences Inc. 3.740188e-03
65     BMY                        Bristol-Myers Squibb Company 3.620328e-03
66     LOW                               Lowe's Companies Inc. 3.611353e-03
67     COP                                      ConocoPhillips 3.482849e-03
68    ANTM                                         Anthem Inc. 3.459557e-03
69     CAT                                    Caterpillar Inc. 3.452684e-03
70     AMT                          American Tower Corporation 3.362129e-03
71     USB                                        U.S. Bancorp 3.355776e-03
72     UPS                  United Parcel Service Inc. Class B 3.308592e-03
73     LMT                         Lockheed Martin Corporation 3.248902e-03
74     AXP                            American Express Company 3.238637e-03
75      CI                                   Cigna Corporation 3.172444e-03
76    MDLZ                 Mondelez International Inc. Class A 3.018507e-03
77      GS                            Goldman Sachs Group Inc. 2.949052e-03
78     DHR                                 Danaher Corporation 2.945331e-03
79    BIIB                                         Biogen Inc. 2.878567e-03
80     BDX                        Becton Dickinson and Company 2.859908e-03
81     ADP                      Automatic Data Processing Inc. 2.800078e-03
82    CELG                                 Celgene Corporation 2.724370e-03
83    QCOM                               QUALCOMM Incorporated 2.704791e-03
84     CME                              CME Group Inc. Class A 2.693005e-03
85     TJX                                   TJX Companies Inc 2.688162e-03
86    ISRG                             Intuitive Surgical Inc. 2.687962e-03
87     DUK                             Duke Energy Corporation 2.677987e-03
88    CHTR                 Charter Communications Inc. Class A 2.661359e-03
89     SLB                                     Schlumberger NV 2.656396e-03
90      CB                                       Chubb Limited 2.635526e-03
91    INTU                                         Intuit Inc. 2.599428e-03
92     WBA                        Walgreens Boots Alliance Inc 2.537987e-03
93     CSX                                     CSX Corporation 2.499398e-03
94     EOG                                  EOG Resources Inc. 2.479198e-03
95     SYK                                 Stryker Corporation 2.475356e-03
96     PNC                   PNC Financial Services Group Inc. 2.461979e-03
97      CL                           Colgate-Palmolive Company 2.459598e-03
98     SPG                           Simon Property Group Inc. 2.420539e-03
99    SCHW                          Charles Schwab Corporation 2.380268e-03
100    BSX                       Boston Scientific Corporation 2.362500e-03
101      D                                 Dominion Energy Inc 2.362490e-03
102     MS                                      Morgan Stanley 2.357517e-03
103   FOXA               Twenty-First Century Fox Inc. Class A 2.286632e-03
104    BLK                                      BlackRock Inc. 2.263240e-03
105    RTN                                    Raytheon Company 2.245281e-03
106    OXY                    Occidental Petroleum Corporation 2.194796e-03
107     GM                              General Motors Company 2.190574e-03
108     DE                                     Deere &amp; Company 2.180539e-03
109     SO                                    Southern Company 2.143840e-03
110    NSC                        Norfolk Southern Corporation 2.139458e-03
111    NOC                        Northrop Grumman Corporation 2.133255e-03
112   SPGI                                     S&amp;P Global Inc. 2.128033e-03
113    CCI                     Crown Castle International Corp 2.127052e-03
114     GD                        General Dynamics Corporation 2.084551e-03
115     BK                 Bank of New York Mellon Corporation 2.081129e-03
116   VRTX                 Vertex Pharmaceuticals Incorporated 2.052085e-03
117     MU                              Micron Technology Inc. 2.021239e-03
118    EXC                                  Exelon Corporation 1.989433e-03
119    MMC                     Marsh &amp; McLennan Companies Inc. 1.961229e-03
120    ZTS                                 Zoetis Inc. Class A 1.957868e-03
121    MPC                      Marathon Petroleum Corporation 1.930374e-03
122    PLD                                       Prologis Inc. 1.912765e-03
123    MET                                        MetLife Inc. 1.906152e-03
124    ITW                            Illinois Tool Works Inc. 1.901359e-03
125    AGN                                        Allergan plc 1.894716e-03
126   ILMN                                       Illumina Inc. 1.881459e-03
127    FDX                                   FedEx Corporation 1.858768e-03
128    ICE                      Intercontinental Exchange Inc. 1.849193e-03
129    EMR                                Emerson Electric Co. 1.828073e-03
130    HUM                                         Humana Inc. 1.825011e-03
131   CTSH  Cognizant Technology Solutions Corporation Class A 1.818338e-03
132    AON                                             Aon plc 1.779839e-03
133    ECL                                         Ecolab Inc. 1.774246e-03
134    PGR                             Progressive Corporation 1.773456e-03
135    KMB                          Kimberly-Clark Corporation 1.754196e-03
136    PSX                                         Phillips 66 1.751575e-03
137    PRU                           Prudential Financial Inc. 1.680439e-03
138    ADI                                 Analog Devices Inc. 1.677838e-03
139    BBT                                    BB&amp;T Corporation 1.672945e-03
140    AEP                American Electric Power Company Inc. 1.667633e-03
141    COF                   Capital One Financial Corporation 1.667192e-03
142     WM                               Waste Management Inc. 1.664881e-03
143    HCA                                  HCA Healthcare Inc 1.662640e-03
144   AMAT                              Applied Materials Inc. 1.640689e-03
145    TGT                                  Target Corporation 1.633986e-03
146    APD                     Air Products and Chemicals Inc. 1.629554e-03
147    AFL                                  Aflac Incorporated 1.614086e-03
148    AIG                   American International Group Inc. 1.602040e-03
149     EW                    Edwards Lifesciences Corporation 1.591745e-03
150    HPQ                                             HP Inc. 1.572385e-03
151    BAX                           Baxter International Inc. 1.557538e-03
152    SHW                            Sherwin-Williams Company 1.553596e-03
153    VLO                           Valero Energy Corporation 1.538518e-03
154    FIS         Fidelity National Information Services Inc. 1.527503e-03
155    KMI                           Kinder Morgan Inc Class P 1.522860e-03
156   ROST                                    Ross Stores Inc. 1.512285e-03
157   ADSK                                       Autodesk Inc. 1.491685e-03
158    MAR                 Marriott International Inc. Class A 1.489754e-03
159     EL                 Estee Lauder Companies Inc. Class A 1.484361e-03
160   FISV                                         Fiserv Inc. 1.480919e-03
161    TRV                            Travelers Companies Inc. 1.469054e-03
162    ETN                                     Eaton Corp. Plc 1.454436e-03
163   EQIX                                        Equinix Inc. 1.453206e-03
164   ATVI                            Activision Blizzard Inc. 1.451855e-03
165      F                                  Ford Motor Company 1.427123e-03
166   EBAY                                           eBay Inc. 1.422420e-03
167    WMB                             Williams Companies Inc. 1.408363e-03
168   REGN                      Regeneron Pharmaceuticals Inc. 1.402270e-03
169     EA                                Electronic Arts Inc. 1.393026e-03
170    ALL                                Allstate Corporation 1.392405e-03
171    JCI                  Johnson Controls International plc 1.385652e-03
172    SYY                                   Sysco Corporation 1.378898e-03
173    ROP                             Roper Technologies Inc. 1.376557e-03
174    DAL                                Delta Air Lines Inc. 1.372395e-03
175    RHT                                        Red Hat Inc. 1.369004e-03
176     DG                          Dollar General Corporation 1.350724e-03
177    SRE                                       Sempra Energy 1.345972e-03
178   ORLY                            O'Reilly Automotive Inc. 1.332325e-03
179    PSA                                      Public Storage 1.328894e-03
180   XLNX                                         Xilinx Inc. 1.285252e-03
181    STI                                 SunTrust Banks Inc. 1.279929e-03
182    YUM                                    Yum! Brands Inc. 1.273546e-03
183    LUV                              Southwest Airlines Co. 1.271535e-03
184    KHC                                 Kraft Heinz Company 1.264782e-03
185   WELL                                      Welltower Inc. 1.251195e-03
186    STZ                   Constellation Brands Inc. Class A 1.248293e-03
187   ALXN                        Alexion Pharmaceuticals Inc. 1.231145e-03
188    TEL                                TE Connectivity Ltd. 1.220970e-03
189   LRCX                            Lam Research Corporation 1.219289e-03
190    PEG                 Public Service Enterprise Group Inc 1.214677e-03
191    VFC                                    V.F. Corporation 1.208463e-03
192    MCO                                 Moody's Corporation 1.206382e-03
193    HAL                                 Halliburton Company 1.196988e-03
194    LYB                        LyondellBasell Industries NV 1.196237e-03
195    GLW                                         Corning Inc 1.194216e-03
196    OKE                                          ONEOK Inc. 1.188553e-03
197    APH                        Amphenol Corporation Class A 1.185542e-03
198    XEL                                    Xcel Energy Inc. 1.179399e-03
199    AVB                          AvalonBay Communities Inc. 1.156808e-03
200    MCK                                McKesson Corporation 1.156177e-03
201    EQR                                  Equity Residential 1.150735e-03
202    GIS                                  General Mills Inc. 1.145642e-03
203    STT                            State Street Corporation 1.145102e-03
204    CNC                                 Centene Corporation 1.138238e-03
205    PPG                                 PPG Industries Inc. 1.127853e-03
206     IR                                  Ingersoll-Rand Plc 1.096718e-03
207    ZBH                         Zimmer Biomet Holdings Inc. 1.073786e-03
208      A                           Agilent Technologies Inc. 1.061240e-03
209    MTB                                M&amp;T Bank Corporation 1.058008e-03
210    PXD                   Pioneer Natural Resources Company 1.051955e-03
211    CXO                               Concho Resources Inc. 1.051925e-03
212    DFS                         Discover Financial Services 1.043961e-03
213     ED                            Consolidated Edison Inc. 1.042370e-03
214    HLT                       Hilton Worldwide Holdings Inc 1.041860e-03
215    FOX               Twenty-First Century Fox Inc. Class B 1.041340e-03
216   PAYX                                        Paychex Inc. 1.035437e-03
217    FTV                                       Fortive Corp. 1.033396e-03
218   PCAR                                          PACCAR Inc 1.017388e-03
219    DLR                           Digital Realty Trust Inc. 1.011595e-03
220   TROW                                 T. Rowe Price Group 1.010384e-03
221    ADM                      Archer-Daniels-Midland Company 1.006973e-03
222     KR                                          Kroger Co. 1.001020e-03
223    CMI                                        Cummins Inc. 9.979983e-04
224   DLTR                                    Dollar Tree Inc. 9.979783e-04
225    AZO                                       AutoZone Inc. 9.977982e-04
226    WEC                                WEC Energy Group Inc 9.976581e-04
227   MNST                        Monster Beverage Corporation 9.970779e-04
228    APC                      Anadarko Petroleum Corporation 9.903545e-04
229  CCL.U                                Carnival Corporation 9.873830e-04
230    VTR                                         Ventas Inc. 9.864626e-04
231    HPE                      Hewlett Packard Enterprise Co. 9.839113e-04
232     PH                         Parker-Hannifin Corporation 9.801494e-04
233    IQV                                  IQVIA Holdings Inc 9.759873e-04
234    MSI                             Motorola Solutions Inc. 9.730559e-04
235   TWTR                                        Twitter Inc. 9.606297e-04
236   WLTW         Willis Towers Watson Public Limited Company 9.449018e-04
237     ES                                   Eversource Energy 9.445016e-04
238    PPL                                     PPL Corporation 9.408298e-04
239    ROK                            Rockwell Automation Inc. 9.317452e-04
240    DTE                                  DTE Energy Company 9.294641e-04
241    SYF                                 Synchrony Financial 9.250619e-04
242   APTV                                           Aptiv PLC 9.162075e-04
243   MCHP                   Microchip Technology Incorporated 9.087137e-04
244    TDG                        TransDigm Group Incorporated 9.086637e-04
245   SBAC                    SBA Communications Corp. Class A 9.083636e-04
246    SWK                         Stanley Black &amp; Decker Inc. 8.942865e-04
247    AMD                         Advanced Micro Devices Inc. 8.933361e-04
248   NTRS                          Northern Trust Corporation 8.885036e-04
249      O                           Realty Income Corporation 8.874931e-04
250   VRSK                                Verisk Analytics Inc 8.821104e-04
251    BXP                              Boston Properties Inc. 8.754071e-04
252    UAL                    United Continental Holdings Inc. 8.631610e-04
253    RCL                        Royal Caribbean Cruises Ltd. 8.626407e-04
254    CLX                                      Clorox Company 8.558573e-04
255    FLT                          FleetCor Technologies Inc. 8.436713e-04
256    EIX                                Edison International 8.369679e-04
257    GPN                                Global Payments Inc. 8.353671e-04
258    HRS                                  Harris Corporation 8.295442e-04
259     IP                         International Paper Company 8.223906e-04
260     FE                                   FirstEnergy Corp. 8.221105e-04
261     WY                                Weyerhaeuser Company 8.213501e-04
262   INFO                                     IHS Markit Ltd. 8.174982e-04
263   CERN                                  Cerner Corporation 8.136563e-04
264   VRSN                                       VeriSign Inc. 8.048018e-04
265    NUE                                   Nucor Corporation 8.041515e-04
266    BLL                                    Ball Corporation 7.976183e-04
267   ALGN                               Align Technology Inc. 7.962776e-04
268    TSN                            Tyson Foods Inc. Class A 7.915152e-04
269    AMP                           Ameriprise Financial Inc. 7.904947e-04
270    KEY                                             KeyCorp 7.861025e-04
271    DXC                                  DXC Technology Co. 7.849519e-04
272    ESS                           Essex Property Trust Inc. 7.820805e-04
273   IDXX                             IDEXX Laboratories Inc. 7.770380e-04
274    AME                                         AMETEK Inc. 7.766478e-04
275   FITB                                 Fifth Third Bancorp 7.736063e-04
276    WAT                                  Waters Corporation 7.714552e-04
277   FAST                                    Fastenal Company 7.690040e-04
278    FCX                               Freeport-McMoRan Inc. 7.602396e-04
279    AWK                   American Water Works Company Inc. 7.555272e-04
280    NEM                          Newmont Mining Corporation 7.529760e-04
281   CTAS                                  Cintas Corporation 7.481436e-04
282    CFG                       Citizens Financial Group Inc. 7.464627e-04
283   ULTA                                     Ulta Beauty Inc 7.426108e-04
284    HIG              Hartford Financial Services Group Inc. 7.408799e-04
285    FRC                                 First Republic Bank 7.325258e-04
286    CBS                             CBS Corporation Class B 7.311351e-04
287    RSG                              Republic Services Inc. 7.226008e-04
288   KLAC                              KLA-Tencor Corporation 7.217504e-04
289    AEE                                  Ameren Corporation 7.206898e-04
290    MTD                   Mettler-Toledo International Inc. 7.184887e-04
291    OMC                                   Omnicom Group Inc 7.175283e-04
292    CAH                                Cardinal Health Inc. 7.103347e-04
293     RF                       Regions Financial Corporation 7.101146e-04
294   NTAP                                         NetApp Inc. 7.097444e-04
295    LLL                                 L3 Technologies Inc 7.066829e-04
296    MYL                                          Mylan N.V. 7.006999e-04
297   ABMD                                        ABIOMED Inc. 6.935163e-04
298   FANG                             Diamondback Energy Inc. 6.920756e-04
299    ETR                                 Entergy Corporation 6.896343e-04
300   EVRG                                         Evergy Inc. 6.780386e-04
301   CBRE                             CBRE Group Inc. Class A 6.753972e-04
302   MXIM                      Maxim Integrated Products Inc. 6.719555e-04
303    CHD                            Church &amp; Dwight Co. Inc. 6.718755e-04
304    GPC                               Genuine Parts Company 6.684037e-04
305    MKC                    McCormick &amp; Company Incorporated 6.650521e-04
306    TSS                          Total System Services Inc. 6.647519e-04
307   MSCI                                   MSCI Inc. Class A 6.631811e-04
308     LH          Laboratory Corporation of America Holdings 6.526559e-04
309    HSY                                     Hershey Company 6.524658e-04
310    CNP                             CenterPoint Energy Inc. 6.480336e-04
311   EXPE                                  Expedia Group Inc. 6.438815e-04
312   KEYS                           Keysight Technologies Inc 6.404798e-04
313   HBAN                  Huntington Bancshares Incorporated 6.392192e-04
314   SNPS                                       Synopsys Inc. 6.389991e-04
315    CMS                              CMS Energy Corporation 6.380286e-04
316    CMG                         Chipotle Mexican Grill Inc. 6.367779e-04
317   SWKS                             Skyworks Solutions Inc. 6.361676e-04
318    VMC                            Vulcan Materials Company 6.352072e-04
319   SYMC                                Symantec Corporation 6.343768e-04
320    HCP                                            HCP Inc. 6.318055e-04
321   CDNS                         Cadence Design Systems Inc. 6.312652e-04
322   INCY                                  Incyte Corporation 6.284338e-04
323   ANSS                                          ANSYS Inc. 6.232512e-04
324    MRO                            Marathon Oil Corporation 6.196694e-04
325    HES                                    Hess Corporation 6.190591e-04
326    AJG                           Arthur J. Gallagher &amp; Co. 6.175784e-04
327    MGM                           MGM Resorts International 6.163778e-04
328    GWW                                  W.W. Grainger Inc. 6.140466e-04
329      K                                     Kellogg Company 6.137565e-04
330    AAL                        American Airlines Group Inc. 6.124658e-04
331    LEN                          Lennar Corporation Class A 6.092742e-04
332    ARE                Alexandria Real Estate Equities Inc. 6.082837e-04
333    RMD                                         ResMed Inc. 6.071331e-04
334    BBY                                   Best Buy Co. Inc. 6.056024e-04
335    CMA                               Comerica Incorporated 5.996494e-04
336    WCG                          WellCare Health Plans Inc. 5.953673e-04
337    DRI                             Darden Restaurants Inc. 5.935464e-04
338    ABC                       AmerisourceBergen Corporation 5.918655e-04
339    WDC                         Western Digital Corporation 5.916054e-04
340    HST                          Host Hotels &amp; Resorts Inc. 5.866429e-04
341    DHI                                    D.R. Horton Inc. 5.829311e-04
342   CTXS                                 Citrix Systems Inc. 5.824008e-04
343    TXT                                        Textron Inc. 5.822107e-04
344   ANET                                Arista Networks Inc. 5.821006e-04
345    COO                               Cooper Companies Inc. 5.809801e-04
346    DOV                                   Dover Corporation 5.751772e-04
347    PFG                      Principal Financial Group Inc. 5.747170e-04
348    TFX                               Teleflex Incorporated 5.732262e-04
349    DVN                            Devon Energy Corporation 5.712452e-04
350    IFF             International Flavors &amp; Fragrances Inc. 5.703548e-04
351    LNC                        Lincoln National Corporation 5.692042e-04
352    XYL                                          Xylem Inc. 5.646419e-04
353   BHGE                   Baker Hughes a GE Company Class A 5.601297e-04
354    EFX                                        Equifax Inc. 5.579286e-04
355     CE                                Celanese Corporation 5.579186e-04
356    CTL                                    CenturyLink Inc. 5.574683e-04
357      L                                   Loews Corporation 5.549771e-04
358   SIVB                                 SVB Financial Group 5.546369e-04
359     IT                                        Gartner Inc. 5.531062e-04
360   CINF                    Cincinnati Financial Corporation 5.520556e-04
361   EXPD         Expeditors International of Washington Inc. 5.477835e-04
362   CHRW                        C.H. Robinson Worldwide Inc. 5.420206e-04
363    APA                                  Apache Corporation 5.405199e-04
364    EXR                            Extra Space Storage Inc. 5.384689e-04
365   HOLX                                        Hologic Inc. 5.374083e-04
366    AAP                             Advance Auto Parts Inc. 5.350071e-04
367    NRG                                     NRG Energy Inc. 5.292443e-04
368    UDR                                            UDR Inc. 5.268831e-04
369   ETFC                       E*TRADE Financial Corporation 5.260527e-04
370    VAR                         Varian Medical Systems Inc. 5.234614e-04
371   WYNN                                Wynn Resorts Limited 5.205199e-04
372    CAG                                 Conagra Brands Inc. 5.101947e-04
373   FTNT                                       Fortinet Inc. 5.097445e-04
374    STX                              Seagate Technology PLC 5.096245e-04
375    DGX                      Quest Diagnostics Incorporated 5.065029e-04
376    MLM                      Martin Marietta Materials Inc. 5.062028e-04
377   TSCO                              Tractor Supply Company 5.057225e-04
378    VNO                                Vornado Realty Trust 5.054024e-04
379    MAA              Mid-America Apartment Communities Inc. 5.031012e-04
380    HRL                            Hormel Foods Corporation 5.012603e-04
381     BR                 Broadridge Financial Solutions Inc. 4.989791e-04
382    SJM                                J.M. Smucker Company 4.983588e-04
383    EMN                            Eastman Chemical Company 4.979786e-04
384    UHS              Universal Health Services Inc. Class B 4.975784e-04
385   NCLH                 Norwegian Cruise Line Holdings Ltd. 4.973683e-04
386    MAS                                   Masco Corporation 4.912953e-04
387   AKAM                            Akamai Technologies Inc. 4.905549e-04
388    ATO                            Atmos Energy Corporation 4.900247e-04
389    TAP                Molson Coors Brewing Company Class B 4.867230e-04
390    MOS                                      Mosaic Company 4.859326e-04
391    FMC                                     FMC Corporation 4.848721e-04
392    NOV                         National Oilwell Varco Inc. 4.833113e-04
393    REG                         Regency Centers Corporation 4.802398e-04
394    URI                                 United Rentals Inc. 4.765079e-04
395    COG                         Cabot Oil &amp; Gas Corporation 4.752273e-04
396    AES                                     AES Corporation 4.750672e-04
397    KSS                                  Kohl's Corporation 4.714254e-04
398    KMX                                         CarMax Inc. 4.696045e-04
399    KSU                                Kansas City Southern 4.682138e-04
400   CPRT                                         Copart Inc. 4.660327e-04
401    NBL                                   Noble Energy Inc. 4.633514e-04
402    RJF                        Raymond James Financial Inc. 4.619907e-04
403   TTWO                  Take-Two Interactive Software Inc. 4.529462e-04
404    DRE                             Duke Realty Corporation 4.512753e-04
405    LNT                                 Alliant Energy Corp 4.485540e-04
406   CBOE                             Cboe Global Markets Inc 4.448721e-04
407   FFIV                                    F5 Networks Inc. 4.446620e-04
408   JKHY                        Jack Henry &amp; Associates Inc. 4.428011e-04
409     LW                           Lamb Weston Holdings Inc. 4.403699e-04
410    PKI                                    PerkinElmer Inc. 4.390992e-04
411    TPR                                       Tapestry Inc. 4.385890e-04
412   VIAB                                 Viacom Inc. Class B 4.367881e-04
413    FTI                                      TechnipFMC Plc 4.341868e-04
414    HAS                                         Hasbro Inc. 4.310552e-04
415   NDAQ                                         Nasdaq Inc. 4.308651e-04
416    IRM                                  Iron Mountain Inc. 4.289042e-04
417    PNW                   Pinnacle West Capital Corporation 4.272633e-04
418    WRK                                    WestRock Company 4.253424e-04
419  DISCK                              Discovery Inc. Class C 4.248021e-04
420    BEN                             Franklin Resources Inc. 4.240517e-04
421    TIF                                       Tiffany &amp; Co. 4.230212e-04
422    FRT                     Federal Realty Investment Trust 4.207801e-04
423     NI                                        NiSource Inc 4.200297e-04
424   JBHT                   J.B. Hunt Transport Services Inc. 4.181888e-04
425   ZION                           Zions Bancorporation N.A. 4.156776e-04
426     CF                         CF Industries Holdings Inc. 4.141368e-04
427   XRAY                                DENTSPLY SIRONA Inc. 4.130963e-04
428   HSIC                                   Henry Schein Inc. 4.068632e-04
429    HII                  Huntington Ingalls Industries Inc. 4.054825e-04
430   JNPR                               Juniper Networks Inc. 4.021908e-04
431    HFC                           HollyFrontier Corporation 4.006400e-04
432   NLSN                                Nielsen Holdings Plc 4.002899e-04
433    PKG                    Packaging Corporation of America 3.944870e-04
434    AVY                          Avery Dennison Corporation 3.883139e-04
435    IPG                 Interpublic Group of Companies Inc. 3.825310e-04
436    SNA                                Snap-on Incorporated 3.805400e-04
437    WHR                               Whirlpool Corporation 3.793094e-04
438     RE                               Everest Re Group Ltd. 3.785190e-04
439    ALB                               Albemarle Corporation 3.767281e-04
440    MHK                              Mohawk Industries Inc. 3.750773e-04
441    BWA                                     BorgWarner Inc. 3.740268e-04
442   ALLE                                        Allegion PLC 3.714054e-04
443   GRMN                                         Garmin Ltd. 3.696846e-04
444    PVH                                           PVH Corp. 3.696646e-04
445    TMK                               Torchmark Corporation 3.691343e-04
446    LKQ                                     LKQ Corporation 3.688242e-04
447    ADS                   Alliance Data Systems Corporation 3.505650e-04
448   BF.B                    Brown-Forman Corporation Class B 3.505650e-04
449    RHI                      Robert Half International Inc. 3.495245e-04
450    JEC                       Jacobs Engineering Group Inc. 3.482939e-04
451    ALK                               Alaska Air Group Inc. 3.471433e-04
452   QRVO                                          Qorvo Inc. 3.466931e-04
453     WU                               Western Union Company 3.396196e-04
454    UNM                                          Unum Group 3.383189e-04
455    SLG                               SL Green Realty Corp. 3.379187e-04
456    AIV Apartment Investment and Management Company Class A 3.317456e-04
457    IVZ                                        Invesco Ltd. 3.289042e-04
458      M                                          Macy's Inc 3.234915e-04
459   ARNC                                        Arconic Inc. 3.221308e-04
460    KIM                            Kimco Realty Corporation 3.205200e-04
461    DVA                                         DaVita Inc. 3.198897e-04
462    NWL                                   Newell Brands Inc 3.183990e-04
463    AOS                             A. O. Smith Corporation 3.176186e-04
464    XEC                                  Cimarex Energy Co. 3.077136e-04
465   NKTR                                 Nektar Therapeutics 3.070933e-04
466   FLIR                                   FLIR Systems Inc. 3.052424e-04
467    PHM                                     PulteGroup Inc. 3.023210e-04
468     RL                    Ralph Lauren Corporation Class A 3.008902e-04
469   DISH                    DISH Network Corporation Class A 3.003400e-04
470    PNR                                         Pentair plc 2.993395e-04
471     FL                                    Foot Locker Inc. 2.956276e-04
472    HBI                                    Hanesbrands Inc. 2.951674e-04
473    XRX                                   Xerox Corporation 2.891744e-04
474   FBHS                 Fortune Brands Home &amp; Security Inc. 2.876636e-04
475    SEE                              Sealed Air Corporation 2.856726e-04
476   CPRI                              Capri Holdings Limited 2.830813e-04
477    CPB                               Campbell Soup Company 2.824010e-04
478   PBCT                      People's United Financial Inc. 2.756476e-04
479     LB                                       L Brands Inc. 2.663130e-04
480    FLS                               Flowserve Corporation 2.653125e-04
481     HP                              Helmerich &amp; Payne Inc. 2.652424e-04
482    HOG                                Harley-Davidson Inc. 2.649123e-04
483   PRGO                                     Perrigo Co. Plc 2.626111e-04
484    JEF                      Jefferies Financial Group Inc. 2.601699e-04
485    ROL                                        Rollins Inc. 2.528763e-04
486    LEG                        Leggett &amp; Platt Incorporated 2.523660e-04
487    AMG                      Affiliated Managers Group Inc. 2.485041e-04
488   TRIP                                    TripAdvisor Inc. 2.479238e-04
489   IPGP                           IPG Photonics Corporation 2.379788e-04
490    GPS                                            Gap Inc. 2.343470e-04
491    PWR                                Quanta Services Inc. 2.245821e-04
492    AIZ                                       Assurant Inc. 2.211204e-04
493    JWN                                      Nordstrom Inc. 2.172385e-04
494    FLR                                   Fluor Corporation 2.166282e-04
495    BHF                          Brighthouse Financial Inc. 2.135266e-04
496   COTY                                   Coty Inc. Class A 2.120159e-04
497    HRB                                      H&amp;R Block Inc. 2.095646e-04
498   NWSA                            News Corporation Class A 2.074036e-04
499    MAT                                         Mattel Inc. 2.017908e-04
500    MAC                                    Macerich Company 1.996897e-04
501  DISCA                              Discovery Inc. Class A 1.940669e-04
502     GT                      Goodyear Tire &amp; Rubber Company 1.899448e-04
503    UAA                           Under Armour Inc. Class A 1.670134e-04
504     UA                           Under Armour Inc. Class C 1.521260e-04
505    NWS                            News Corporation Class B 6.290141e-05
506 ECA-CA                                  Encana Corporation 7.893942e-06
                    sector shares_held
1   Information Technology    84853600
2   Information Technology    49533308
3   Consumer Discretionary     4510051
4               Financials    21364490
5   Communication Services    26385216
6              Health Care    29452358
7               Financials    36529800
8   Communication Services     3378423
9   Communication Services     3282939
10                  Energy    46493644
11              Financials   100285460
12             Health Care    10564454
13  Information Technology    19303236
14        Consumer Staples    27357982
15             Health Care    63506110
16  Information Technology    50135996
17                  Energy    20984748
18  Communication Services    45375500
19  Information Technology    49397930
20  Communication Services    79917256
21             Industrials     5801735
22  Consumer Discretionary    12408924
23              Financials    46556430
24             Health Care    28576474
25  Information Technology     9946411
26        Consumer Staples    42067310
27  Communication Services    49908344
28  Communication Services    16347008
29        Consumer Staples    15501865
30              Financials    26843670
31  Communication Services     4788556
32        Consumer Staples    15677056
33  Consumer Discretionary     8473443
34             Health Care    19286212
35  Information Technology    27943780
36        Consumer Staples    17070768
37  Information Technology     5347148
38  Information Technology     9968187
39             Industrials     8075142
40               Materials    25202004
41             Health Care    14750220
42             Health Care    16540164
43             Industrials     6400274
44  Information Technology     8398198
45             Health Care     7000953
46  Information Technology     4546147
47             Health Care    10358008
48             Industrials     8109534
49  Information Technology    12927395
50  Consumer Discretionary    13969941
51             Industrials     8911586
52  Information Technology    10552200
53             Health Care     4421107
54  Information Technology     6997603
55  Information Technology     6698059
56        Consumer Staples     4812566
57               Materials     6051462
58        Consumer Staples    20562772
59             Health Care    14177615
60  Consumer Discretionary      508639
61               Utilities     5246468
62             Industrials    95514760
63  Consumer Discretionary    13623676
64             Health Care    14155833
65             Health Care    17923948
66  Consumer Discretionary     8862585
67                  Energy    12695394
68             Health Care     2840374
69             Industrials     6484917
70             Real Estate     4836797
71              Financials    16730737
72             Industrials     7634037
73             Industrials     2705191
74              Financials     7715496
75             Health Care     4101458
76        Consumer Staples    16033591
77              Financials     3800548
78             Health Care     6773251
79             Health Care     2212211
80             Health Care     2945983
81  Information Technology     4785852
82             Health Care     7684789
83  Information Technology    13311328
84              Financials     3927643
85  Consumer Discretionary    13690399
86             Health Care     1253634
87               Utilities     7828438
88  Communication Services     1950416
89                  Energy    15117770
90              Financials     5061222
91  Information Technology     2850040
92        Consumer Staples     8841804
93             Industrials     8814182
94                  Energy     6326332
95             Health Care     3389350
96              Financials     5072966
97        Consumer Staples     9464497
98             Real Estate     3377012
99              Financials    13134280
100            Health Care    15105250
101              Utilities     8249501
102             Financials    14362621
103 Communication Services    11606211
104             Financials     1340362
105            Industrials     3111283
106                 Energy     8356286
107 Consumer Discretionary    14335656
108            Industrials     3508474
109              Utilities    11293749
110            Industrials     2992855
111            Industrials     1901582
112             Financials     2744956
113            Real Estate     4529516
114            Industrials     3043009
115             Financials    10046857
116            Health Care     2791257
117 Information Technology    12313897
118              Utilities    10545466
119             Financials     5503610
120            Health Care     5251650
121                 Energy     7579710
122            Real Estate     6873344
123             Financials    10869825
124            Industrials     3372816
125            Health Care     3485269
126            Health Care     1605308
127            Industrials     2651972
128             Financials     6265545
129            Industrials     6845957
130            Health Care     1504560
131 Information Technology     6323489
132             Financials     2647597
133              Materials     2776346
134             Financials     6366478
135       Consumer Staples     3788826
136                 Energy     4667958
137             Financials     4565907
138 Information Technology     4059161
139             Financials     8441104
140              Utilities     5381653
141             Financials     5228546
142            Industrials     4299405
143            Health Care     2948341
144 Information Technology    10734333
145 Consumer Discretionary     5738562
146              Materials     2394666
147             Financials     8378780
148             Financials     9683932
149            Health Care     2290413
150 Information Technology    17278248
151            Health Care     5426107
152              Materials      904940
153                 Energy     4663221
154 Information Technology     3587225
155                 Energy    20721726
156 Consumer Discretionary     4115142
157 Information Technology     2379755
158 Consumer Discretionary     3148294
159       Consumer Staples     2449646
160 Information Technology     4416413
161             Financials     2919089
162            Industrials     4725856
163            Real Estate      882199
164 Communication Services     8327456
165 Consumer Discretionary    42749332
166 Consumer Discretionary     9947385
167                 Energy    13211548
168            Health Care      846096
169 Communication Services     3335426
170             Financials     3774086
171            Industrials    10098861
172       Consumer Staples     5222715
173            Industrials     1128806
174            Industrials     6873085
175 Information Technology     1935077
176 Consumer Discretionary     2903658
177              Utilities     2987326
178 Consumer Discretionary      878425
179            Real Estate     1636418
180 Information Technology     2755723
181             Financials     5028027
182 Consumer Discretionary     3461448
183            Industrials     5637370
184       Consumer Staples     6794417
185            Real Estate     4124124
186       Consumer Staples     1825683
187            Health Care     2433510
188 Information Technology     3802557
189 Information Technology     1722416
190              Utilities     5517268
191 Consumer Discretionary     3557434
192             Financials     1823290
193                 Energy     9613979
194              Materials     3491712
195 Information Technology     8852467
196                 Energy     4490440
197 Information Technology     3271969
198              Utilities     5643593
199            Real Estate     1509296
200            Health Care     2181810
201            Real Estate     4020945
202       Consumer Staples     6506921
203             Financials     4145673
204            Health Care     4481716
205              Materials     2644321
206            Industrials     2678846
207            Health Care     2221510
208            Health Care     3467173
209             Financials     1571095
210                 Energy     1851432
211                 Energy     2188314
212             Financials     3746094
213              Utilities     3396411
214 Consumer Discretionary     3260214
215 Communication Services     5325635
216 Information Technology     3495366
217            Industrials     3231765
218            Industrials     3821761
219            Real Estate     2249676
220             Financials     2648802
221       Consumer Staples     6136183
222       Consumer Staples     8680506
223            Industrials     1642124
224 Consumer Discretionary     2582660
225 Consumer Discretionary      277521
226              Utilities     3427101
227       Consumer Staples     4343785
228                 Energy     5601322
229 Consumer Discretionary     4412013
230            Real Estate     3869811
231 Information Technology    15643081
232            Industrials     1443835
233            Health Care     1760100
234 Information Technology     1795575
235 Communication Services     7868838
236             Financials     1425562
237              Utilities     3441836
238              Utilities     7901413
239            Industrials     1343665
240              Utilities     1984554
241             Financials     7453370
242 Consumer Discretionary     2895350
243 Information Technology     2551726
244            Industrials      528184
245            Real Estate     1252681
246            Industrials     1677327
247 Information Technology     9650679
248             Financials     2441622
249            Real Estate     3239184
250            Industrials     1799774
251            Real Estate     1675955
252            Industrials     2500381
253 Consumer Discretionary     1870616
254       Consumer Staples     1400955
255 Information Technology      963283
256              Utilities     3538982
257 Information Technology     1733167
258            Industrials     1287679
259              Materials     4461923
260              Utilities     5312109
261            Real Estate     8226775
262            Industrials     3914760
263            Health Care     3594290
264 Information Technology     1173766
265              Materials     3457348
266              Materials     3769475
267            Health Care      798947
268       Consumer Staples     3234016
269             Financials     1547442
270             Financials    11484608
271 Information Technology     3067559
272            Real Estate      717552
273            Health Care      945392
274            Industrials     2514572
275             Financials     7283773
276            Health Care      840888
277            Industrials     3124053
278              Materials    15837152
279              Utilities     1971184
280              Materials     5794860
281            Industrials      939128
282             Financials     5203126
283 Consumer Discretionary      620090
284             Financials     3889356
285             Financials     1843857
286 Communication Services     3693436
287            Industrials     2381179
288 Information Technology     1706564
289              Utilities     2645846
290            Health Care      274795
291 Communication Services     2447402
292            Health Care     3275280
293             Financials    11353641
294 Information Technology     2835577
295            Industrials      851775
296            Health Care     5629673
297            Health Care      490005
298                 Energy     1678142
299              Utilities     1963267
300              Utilities     2951350
301            Real Estate     3452740
302 Information Technology     3077792
303       Consumer Staples     2656922
304 Consumer Discretionary     1589238
305       Consumer Staples     1324279
306 Information Technology     1832858
307             Financials      968497
308            Health Care     1111794
309       Consumer Staples     1526384
310              Utilities     5366678
311 Consumer Discretionary     1296049
312 Information Technology     2038376
313             Financials    11671771
314 Information Technology     1608117
315              Utilities     3092984
316 Consumer Discretionary      268854
317 Information Technology     1951800
318              Materials     1436228
319 Information Technology     7010013
320            Real Estate     5240775
321 Information Technology     3071238
322            Health Care     1910436
323 Information Technology      913731
324                 Energy     9281057
325                 Energy     2750316
326             Financials     1978764
327 Consumer Discretionary     5589458
328            Industrials      496123
329       Consumer Staples     2764699
330            Industrials     4470119
331 Consumer Discretionary     3187318
332            Real Estate     1153852
333            Health Care     1546184
334 Consumer Discretionary     2574321
335             Financials     1776056
336            Health Care      545599
337 Consumer Discretionary     1354233
338            Health Care     1747146
339 Information Technology     3176075
340            Real Estate     8051085
341 Consumer Discretionary     3730843
342 Information Technology     1399057
343            Industrials     2716830
344 Information Technology      564156
345            Health Care      532562
346            Industrials     1613347
347             Financials     2894667
348            Health Care      512924
349                 Energy     5141867
350              Materials     1105247
351             Financials     2363409
352            Industrials     1953788
353                 Energy     5547419
354            Industrials     1305700
355              Materials     1423524
356 Communication Services    10379065
357             Financials     3040086
358             Financials      574548
359 Information Technology      987044
360             Financials     1652133
361            Industrials     1902907
362            Industrials     1516193
363                 Energy     4152349
364            Real Estate     1381347
365            Health Care     2969890
366 Consumer Discretionary      805121
367              Utilities     3188619
368            Real Estate     3022753
369             Financials     2835503
370            Health Care     1008799
371 Consumer Discretionary     1069451
372       Consumer Staples     5327094
373 Information Technology     1569001
374 Information Technology     2852071
375            Health Care     1475566
376              Materials      681336
377 Consumer Discretionary     1325791
378            Real Estate     1879215
379            Real Estate     1235370
380       Consumer Staples     2968258
381 Information Technology     1272004
382       Consumer Staples     1233183
383              Materials     1540210
384            Health Care      939188
385 Consumer Discretionary     2399286
386            Industrials     3355027
387 Information Technology     1790425
388              Utilities     1291661
389       Consumer Staples     2044159
390              Materials     3871360
391              Materials     1453268
392                 Energy     4147562
393            Real Estate     1852404
394            Industrials      903877
395                 Energy     4818499
396              Utilities     7182509
397 Consumer Discretionary     1829183
398 Consumer Discretionary     1935735
399            Industrials     1113767
400            Industrials     2206502
401                 Energy     5235531
402             Financials     1435488
403 Communication Services     1241900
404            Real Estate     3876499
405              Utilities     2551075
406             Financials     1216629
407 Information Technology      664116
408 Information Technology      846668
409       Consumer Staples     1620658
410            Health Care     1195097
411 Consumer Discretionary     3124383
412 Communication Services     3833174
413                 Energy     4718422
414 Consumer Discretionary     1276288
415             Financials     1255942
416            Real Estate     3124109
417              Utilities     1214980
418              Materials     2786398
419 Communication Services     3930185
420             Financials     3342977
421 Consumer Discretionary     1191398
422            Real Estate      794526
423              Utilities     3967883
424            Industrials      941785
425             Financials     2122059
426              Materials     2536327
427            Health Care     2424846
428            Health Care     1668249
429            Industrials      472130
430 Information Technology     3793694
431                 Energy     1770424
432            Industrials     3893577
433              Materials     1024844
434              Materials      946952
435 Communication Services     4185522
436            Industrials      616986
437 Consumer Discretionary      696269
438             Financials      446368
439              Materials     1184371
440 Consumer Discretionary      689241
441 Consumer Discretionary     2282471
442            Industrials     1037700
443 Consumer Discretionary     1320464
444 Consumer Discretionary      837593
445             Financials     1132802
446 Consumer Discretionary     3475186
447 Information Technology      517747
448       Consumer Staples     1832793
449            Industrials     1334917
450            Industrials     1296545
451            Industrials     1339031
452 Information Technology     1361089
453 Information Technology     4880875
454             Financials     2382921
455            Real Estate      943705
456            Real Estate     1710661
457             Financials     4461157
458 Consumer Discretionary     3326163
459            Industrials     4695504
460            Real Estate     4616746
461            Health Care     1384655
462 Consumer Discretionary     4746547
463            Industrials     1573427
464                 Energy     1035895
465            Health Care     1884332
466 Information Technology     1489880
467 Consumer Discretionary     2851670
468 Consumer Discretionary      615328
469 Communication Services     2486454
470            Industrials     1792505
471 Consumer Discretionary     1275513
472 Consumer Discretionary     4022810
473 Information Technology     2428599
474            Industrials     1552478
475              Materials     1733776
476 Consumer Discretionary     1627708
477       Consumer Staples     2076504
478             Financials     4066548
479 Consumer Discretionary     2491820
480            Industrials     1420509
481                 Energy     1182082
482 Consumer Discretionary     1816851
483            Health Care     1372418
484             Financials     3166258
485            Industrials     1612804
486 Consumer Discretionary     1436217
487             Financials      583435
488 Communication Services     1116383
489 Information Technology      393061
490 Consumer Discretionary     2391279
491            Industrials     1606564
492             Financials      575956
493 Consumer Discretionary     1250523
494            Industrials     1526223
495             Financials     1302087
496       Consumer Staples     4912631
497 Consumer Discretionary     2224465
498 Communication Services     4161396
499 Consumer Discretionary     3735261
500            Real Estate     1169252
501 Communication Services     1694339
502 Consumer Discretionary     2585962
503 Consumer Discretionary     2019164
504 Consumer Discretionary     2043966
505 Communication Services     1244468
506                 Energy      292529</code></pre>
</div>
</div>
</section>
<section id="question" class="level1">
<h1>Question</h1>
<p><mark>Which stock prices behave similarly?</mark></p>
<p>Answering this question helps us <strong>understand which companies are related</strong>, and we can use clustering to help us answer it!</p>
<p>Even if you’re not interested in finance, this is still a great analysis because it will tell you which companies are competitors and which are likely in the same space (often called sectors) and can be categorized together. Bottom line - This analysis can help you better understand the dynamics of the market and competition, which is useful for all types of analyses from finance to sales to marketing.</p>
<p>Let’s get started.</p>
<section id="step-1---convert-stock-prices-to-a-standardized-format-daily-returns" class="level2">
<h2 class="anchored" data-anchor-id="step-1---convert-stock-prices-to-a-standardized-format-daily-returns">Step 1 - Convert stock prices to a standardized format (daily returns)</h2>
<p>What you first need to do is get the data in a format that can be converted to a “user-item” style matrix. The challenge here is to connect the dots between what we have and what we need to do to format it properly.</p>
<p>We know that in order to compare the data, it needs to be standardized or normalized. Why? Because we cannot compare values (stock prices) that are of completely different magnitudes. In order to standardize, we will convert from adjusted stock price (dollar value) to daily returns (percent change from previous day). Here is the formula.</p>
<p><span class="math display">\[
return_{daily} = \frac{price_{i}-price_{i-1}}{price_{i-1}}
\]</span></p>
<p>First, what do we have? We have stock prices for every stock in the <a href="https://finance.yahoo.com/quote/%5EGSPC?p=%5EGSPC">SP 500 Index</a>, which is the daily stock prices for over 500 stocks. The data set is over 1.2M observations.</p>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-4_4270ebe36009ab9992a8df5b722beb07">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sp_500_prices_tbl <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,225,765
Columns: 8
$ symbol   &lt;chr&gt; "MSFT", "MSFT", "MSFT", "MSFT", "MSFT", "MSFT", "MSFT", "MSFT…
$ date     &lt;date&gt; 2009-01-02, 2009-01-05, 2009-01-06, 2009-01-07, 2009-01-08, …
$ open     &lt;dbl&gt; 19.53, 20.20, 20.75, 20.19, 19.63, 20.17, 19.71, 19.52, 19.53…
$ high     &lt;dbl&gt; 20.40, 20.67, 21.00, 20.29, 20.19, 20.30, 19.79, 19.99, 19.68…
$ low      &lt;dbl&gt; 19.37, 20.06, 20.61, 19.48, 19.55, 19.41, 19.30, 19.52, 19.01…
$ close    &lt;dbl&gt; 20.33, 20.52, 20.76, 19.51, 20.12, 19.52, 19.47, 19.82, 19.09…
$ volume   &lt;dbl&gt; 50084000, 61475200, 58083400, 72709900, 70255400, 49815300, 5…
$ adjusted &lt;dbl&gt; 15.86624, 16.01451, 16.20183, 15.22628, 15.70234, 15.23408, 1…</code></pre>
</div>
</div>
<p>Your first task is to convert to a tibble named <code>sp_500_daily_returns_tbl</code> by performing the following operations:</p>
<ul>
<li>Select the <code>symbol</code>, <code>date</code> and <code>adjusted</code> columns</li>
<li>Filter to dates beginning in the year 2018 and beyond.</li>
<li>Compute a Lag of 1 day on the adjusted stock price. Be sure to group by symbol first, otherwise we will have lags computed using values from the previous stock in the data frame.</li>
<li>Remove a <code>NA</code> values from the lagging operation</li>
<li>Compute the difference between adjusted and the lag</li>
<li>Compute the percentage difference by dividing the difference by that lag. Name this column <code>pct_return</code>.</li>
<li>Return only the <code>symbol</code>, <code>date</code>, and <code>pct_return</code> columns</li>
<li>Save as a variable named <code>sp_500_daily_returns_tbl</code></li>
</ul>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-5_1b7fd3534e915b508305ebd3eb306db1">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply your data transformation skills!</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>sp_500_daily_returns_tbl <span class="ot">&lt;-</span> sp_500_prices_tbl[, <span class="fu">c</span>(<span class="st">"symbol"</span>, <span class="st">"date"</span>, <span class="st">"adjusted"</span>)]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>sp_500_daily_returns_tbl <span class="ot">&lt;-</span> <span class="fu">filter</span>(sp_500_daily_returns_tbl, <span class="fu">year</span>(<span class="fu">as.Date</span>(sp_500_daily_returns_tbl<span class="sc">$</span>date)) <span class="sc">&gt;=</span> <span class="dv">2018</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>sp_split <span class="ot">&lt;-</span> <span class="fu">split</span>(sp_500_daily_returns_tbl, sp_500_daily_returns_tbl<span class="sc">$</span>symbol)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (df_name <span class="cf">in</span> <span class="fu">names</span>(sp_split)) {</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  sp_split[[df_name]] <span class="ot">&lt;-</span> sp_split[[df_name]] <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">lag_adjusted =</span> <span class="fu">lag</span>(adjusted)) <span class="sc">%&gt;%</span> <span class="fu">na.omit</span>()</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  sp_split[[df_name]] <span class="ot">&lt;-</span> sp_split[[df_name]] <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">pct_return =</span> (adjusted <span class="sc">-</span> lag_adjusted)<span class="sc">/</span>lag_adjusted)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>sp_500_daily_returns_tbl <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(sp_split)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>sp_500_daily_returns_tbl <span class="ot">&lt;-</span> <span class="fu">select</span>(sp_500_daily_returns_tbl, symbol, date, pct_return)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Output: sp_500_daily_returns_tbl</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>sp_500_daily_returns_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 141,340 × 3
   symbol date       pct_return
   &lt;chr&gt;  &lt;date&gt;          &lt;dbl&gt;
 1 A      2018-01-03   0.0254  
 2 A      2018-01-04  -0.00750 
 3 A      2018-01-05   0.0160  
 4 A      2018-01-08   0.00215 
 5 A      2018-01-09   0.0246  
 6 A      2018-01-10  -0.0137  
 7 A      2018-01-11   0.000141
 8 A      2018-01-12   0.0131  
 9 A      2018-01-16  -0.00697 
10 A      2018-01-17   0.0117  
# ℹ 141,330 more rows</code></pre>
</div>
</div>
</section>
<section id="step-2---convert-to-user-item-format" class="level2">
<h2 class="anchored" data-anchor-id="step-2---convert-to-user-item-format">Step 2 - Convert to User-Item Format</h2>
<p>The next step is to convert to a user-item format with the <code>symbol</code> in the first column and every other column the value of the <em>daily returns</em> (<code>pct_return</code>) for every stock at each <code>date</code>.</p>
<p>We’re going to import the correct results first (just in case you were not able to complete the last step).</p>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-6_d7d8ada4a6225ffe922f9708a9e076d2">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>sp_500_daily_returns_tbl <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"sp_500_daily_returns_tbl.rds"</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>sp_500_daily_returns_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 141,340 × 3
   symbol date       pct_return
   &lt;chr&gt;  &lt;date&gt;          &lt;dbl&gt;
 1 MSFT   2018-01-03   0.00465 
 2 MSFT   2018-01-04   0.00880 
 3 MSFT   2018-01-05   0.0124  
 4 MSFT   2018-01-08   0.00102 
 5 MSFT   2018-01-09  -0.000680
 6 MSFT   2018-01-10  -0.00453 
 7 MSFT   2018-01-11   0.00296 
 8 MSFT   2018-01-12   0.0173  
 9 MSFT   2018-01-16  -0.0140  
10 MSFT   2018-01-17   0.0203  
# ℹ 141,330 more rows</code></pre>
</div>
</div>
<p>Now that we have the daily returns (percentage change from one day to the next), we can convert to a user-item format. The user in this case is the <code>symbol</code> (company), and the item in this case is the <code>pct_return</code> at each <code>date</code>.</p>
<ul>
<li>Spread the <code>date</code> column to get the values as percentage returns. Make sure to fill an <code>NA</code> values with zeros.</li>
<li>Save the result as <code>stock_date_matrix_tbl</code></li>
</ul>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-7_ca17b1ddcf0e58a6b33df5ea1ee451f2">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to User-Item Format</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>stock_date_matrix_tbl <span class="ot">&lt;-</span> sp_500_daily_returns_tbl <span class="sc">%&gt;%</span> <span class="fu">spread</span>(date, pct_return, <span class="at">fill =</span> <span class="dv">0</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Output: stock_date_matrix_tbl</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>stock_date_matrix_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 502 × 283
   symbol `2018-01-03` `2018-01-04` `2018-01-05` `2018-01-08` `2018-01-09`
   &lt;chr&gt;         &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
 1 A          0.0254       -0.00750     0.0160        0.00215     0.0246  
 2 AAL       -0.0123        0.00630    -0.000380     -0.00988    -0.000959
 3 AAP        0.00905       0.0369      0.0106       -0.00704    -0.00808 
 4 AAPL      -0.000174      0.00465     0.0114       -0.00371    -0.000115
 5 ABBV       0.0156       -0.00570     0.0174       -0.0160      0.00754 
 6 ABC        0.00372      -0.00222     0.0121        0.0166      0.00640 
 7 ABMD       0.0173        0.0175      0.0154        0.0271      0.00943 
 8 ABT        0.00221      -0.00170     0.00289      -0.00288     0.00170 
 9 ACN        0.00462       0.0118      0.00825       0.00799     0.00333 
10 ADBE       0.0188        0.0120      0.0116       -0.00162     0.00897 
# ℹ 492 more rows
# ℹ 277 more variables: `2018-01-10` &lt;dbl&gt;, `2018-01-11` &lt;dbl&gt;,
#   `2018-01-12` &lt;dbl&gt;, `2018-01-16` &lt;dbl&gt;, `2018-01-17` &lt;dbl&gt;,
#   `2018-01-18` &lt;dbl&gt;, `2018-01-19` &lt;dbl&gt;, `2018-01-22` &lt;dbl&gt;,
#   `2018-01-23` &lt;dbl&gt;, `2018-01-24` &lt;dbl&gt;, `2018-01-25` &lt;dbl&gt;,
#   `2018-01-26` &lt;dbl&gt;, `2018-01-29` &lt;dbl&gt;, `2018-01-30` &lt;dbl&gt;,
#   `2018-01-31` &lt;dbl&gt;, `2018-02-01` &lt;dbl&gt;, `2018-02-02` &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="step-3---perform-k-means-clustering" class="level2">
<h2 class="anchored" data-anchor-id="step-3---perform-k-means-clustering">Step 3 - Perform K-Means Clustering</h2>
<p>Next, we’ll perform <strong>K-Means clustering</strong>.</p>
<p>We’re going to import the correct results first (just in case you were not able to complete the last step).</p>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-8_c92e2e550e08200c8d15b700cd823e6a">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>stock_date_matrix_tbl <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"stock_date_matrix_tbl.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Beginning with the <code>stock_date_matrix_tbl</code>, perform the following operations:</p>
<ul>
<li>Drop the non-numeric column, <code>symbol</code></li>
<li>Perform <code>kmeans()</code> with <code>centers = 4</code> and <code>nstart = 20</code></li>
<li>Save the result as <code>kmeans_obj</code></li>
</ul>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-9_168ccb416c445aac372d757704cf2dfe">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create kmeans_obj for 4 centers</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> stock_date_matrix_tbl <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>symbol)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>kmeans_obj <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(temp, <span class="at">centers =</span> <span class="dv">4</span>, <span class="at">nstart =</span> <span class="dv">20</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>kmeans_obj</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>K-means clustering with 4 clusters of sizes 84, 30, 317, 71

Cluster means:
    2018-01-03   2018-01-04   2018-01-05  2018-01-08    2018-01-09
1 -0.003333954 -0.006912672 0.0012340690 0.005406745 -0.0089961936
2  0.014549433  0.011343742 0.0006474687 0.005827603 -0.0061031977
3  0.005217181  0.004542594 0.0065882996 0.001682355  0.0035926461
4  0.014025528  0.004891946 0.0092884855 0.008080790 -0.0003389287
     2018-01-10   2018-01-11   2018-01-12   2018-01-16  2018-01-17   2018-01-18
1 -0.0120427739 -0.004826786 -0.005236483  0.001309974 0.007494267 -0.006708276
2  0.0012472656  0.023712257  0.010296386 -0.014205000 0.008879761 -0.009114860
3 -0.0003417889  0.011272867  0.008286783 -0.007601889 0.007489971 -0.001424046
4 -0.0020594364  0.009308274  0.009571419 -0.008449825 0.015404285  0.001998036
   2018-01-19  2018-01-22    2018-01-23   2018-01-24    2018-01-25   2018-01-26
1 0.004566404 0.006985181  0.0080806520 -0.003852982  5.819039e-03 0.0008990918
2 0.001324402 0.024772066 -0.0005949105 -0.006334400 -1.029610e-02 0.0060671176
3 0.007923882 0.004611634  0.0009158796  0.002736219  6.261335e-05 0.0112167041
4 0.006715878 0.009735809  0.0093980814 -0.007636793 -4.868228e-03 0.0166806037
    2018-01-29   2018-01-30   2018-01-31    2018-02-01  2018-02-02  2018-02-05
1 -0.011666174 -0.003053078  0.010838715 -0.0147069869 -0.01321817 -0.02624758
2 -0.015217440 -0.021314151  0.001732506  0.0088676780 -0.03741749 -0.03711698
3 -0.006083350 -0.011773883 -0.003893409 -0.0002198492 -0.01945987 -0.03929605
4 -0.005021227 -0.009723839  0.005783896  0.0021775377 -0.02295550 -0.03846852
    2018-02-06    2018-02-07  2018-02-08  2018-02-09  2018-02-12   2018-02-13
1 -0.000769148 -0.0052130982 -0.02013127  0.01909034 0.005043885  0.003804489
2  0.013342351 -0.0190853955 -0.03955006 -0.00291801 0.022509484 -0.006038450
3  0.014327389  0.0006988956 -0.03645141  0.01201566 0.012262163  0.002250963
4  0.025070219 -0.0074124405 -0.04115078  0.02162704 0.018492458  0.008702354
    2018-02-14   2018-02-15    2018-02-16    2018-02-20   2018-02-21
1 -0.004153567  0.016542153  0.0050883535 -0.0117393604 -0.016373701
2  0.028709277 -0.005064078 -0.0050865513  0.0004252287 -0.016731442
3  0.017405799  0.009018172  0.0009879948 -0.0076134581 -0.002297952
4  0.024552532  0.016512878 -0.0064207255  0.0060618583 -0.004441781
    2018-02-22 2018-02-23   2018-02-26   2018-02-27   2018-02-28   2018-03-01
1  0.007334973 0.01800925 2.523189e-03 -0.016890593 -0.004953530 -0.000381493
2  0.009769590 0.02115968 9.924278e-05 -0.014163508 -0.023712904  0.001114025
3 -0.001782200 0.01341795 8.558352e-03 -0.013163471 -0.012030574 -0.013488875
4 -0.002997867 0.02195730 1.220083e-02 -0.009308126 -0.005461278 -0.014143419
   2018-03-02 2018-03-05    2018-03-06   2018-03-07  2018-03-08  2018-03-09
1 0.001200669 0.01370457 -0.0019166661 -0.002145171 0.007270226 0.004711574
2 0.007737213 0.01108851  0.0003806278 -0.007205835 0.001223280 0.021309965
3 0.005346057 0.01038346  0.0061748492 -0.001323156 0.001313594 0.017891556
4 0.021342169 0.01379969  0.0087369561  0.007337585 0.008156522 0.017801101
     2018-03-12   2018-03-13    2018-03-14   2018-03-15   2018-03-16
1  0.0031507710  0.001106390  0.0009870808 -0.002700715 0.0054389622
2 -0.0005388962 -0.008199908 -0.0017622280 -0.012297035 0.0129985324
3 -0.0035181932 -0.003675462 -0.0084294900 -0.001428887 0.0043333233
4  0.0027135945 -0.012076285  0.0002114269 -0.002123033 0.0008341013
    2018-03-19   2018-03-20    2018-03-21   2018-03-22   2018-03-23 2018-03-26
1 -0.007648673 -0.003879733 -0.0090580220 -0.003464591 -0.013739589 0.01267397
2 -0.017670238  0.013784848  0.0337207010 -0.021459951 -0.007163383 0.01896047
3 -0.010398300  0.000171361  0.0004388795 -0.027250330 -0.019522841 0.02449549
4 -0.017248805  0.004318024 -0.0017923612 -0.026251915 -0.025754376 0.03407693
    2018-03-27    2018-03-28  2018-03-29  2018-04-02  2018-04-03  2018-04-04
1  0.007715361  0.0112983042 0.004369175 -0.01422130 0.007764893 0.010279533
2 -0.013465892 -0.0233216532 0.023735936 -0.02377674 0.019605101 0.001227871
3 -0.013135617 -0.0004245702 0.013363731 -0.02238548 0.012621133 0.012434839
4 -0.032635868 -0.0121534871 0.018762622 -0.02940422 0.012355715 0.015777681
   2018-04-05   2018-04-06    2018-04-09   2018-04-10    2018-04-11
1 0.002828578 -0.007734639 -0.0001039607 -0.001881378 -0.0007348127
2 0.019447924 -0.022406930  0.0025547209  0.038827519  0.0130939406
3 0.007176211 -0.023302068  0.0013397648  0.015147638 -0.0067400406
4 0.001453854 -0.029807187  0.0072958976  0.025353351 -0.0056141513
    2018-04-12   2018-04-13  2018-04-16  2018-04-17    2018-04-18   2018-04-19
1 -0.010752601  0.005563910 0.008682951 0.007863409 -0.0046798570 -0.013599108
2  0.001740217  0.013155802 0.008616509 0.006042663  0.0206900471  0.001786194
3  0.008179894 -0.005095188 0.011016656 0.006195900  0.0032189057 -0.003267487
4  0.015962569 -0.007832302 0.004860507 0.022161608  0.0002988631 -0.018124119
    2018-04-20   2018-04-23  2018-04-24    2018-04-25  2018-04-26   2018-04-27
1 -0.012187591  0.001157400  0.00221505  0.0002285739 0.010261824  0.011958287
2 -0.003468391  0.006591688 -0.01599992  0.0059983491 0.011457675 -0.009243902
3 -0.005666901  0.002505648 -0.01123779  0.0039772566 0.003569482  0.003206567
4 -0.010631547 -0.003682519 -0.01618772 -0.0050286856 0.020824552 -0.004572574
     2018-04-30    2018-05-01   2018-05-02   2018-05-03   2018-05-04
1 -5.828280e-03  0.0007776130 -0.009884618  0.001865179 0.0115802919
2  5.650547e-05 -0.0050385450  0.008551843 -0.003354957 0.0002403534
3 -1.188822e-02 -0.0005850741 -0.010327390 -0.005367388 0.0118618730
4 -4.215671e-03  0.0119120995 -0.003166279  0.004031093 0.0152252115
     2018-05-07    2018-05-08  2018-05-09  2018-05-10   2018-05-11
1 -0.0003423209 -0.0117845845 0.002356665 0.008776411 -0.001332108
2 -0.0006381188  0.0103725962 0.019005395 0.003092002 -0.001898366
3  0.0006844511  0.0007354292 0.006015187 0.008198444  0.003294055
4  0.0107081957  0.0042713777 0.018287598 0.012255246 -0.004284660
     2018-05-14   2018-05-15   2018-05-16   2018-05-17    2018-05-18
1 -0.0055922557 -0.011670012 -0.002364305 -0.004893340 -0.0039987220
2  0.0057983409  0.004290063  0.008291791  0.020700579 -0.0059074763
3  0.0005690565 -0.003929441  0.006577711  0.001955032 -0.0005493316
4  0.0016992322 -0.004501408  0.008611112 -0.004584975 -0.0022359815
   2018-05-21   2018-05-22    2018-05-23    2018-05-24    2018-05-25
1 0.005779365  0.002482762  0.0085556910  1.298424e-03  0.0047986326
2 0.008283126 -0.013478278 -0.0044105608 -1.261852e-02 -0.0266239832
3 0.005961593 -0.004840369  0.0006489749  8.611148e-05 -0.0012343964
4 0.005922644 -0.003192814  0.0057628973  1.489904e-03  0.0006639455
    2018-05-29  2018-05-30   2018-05-31   2018-06-01   2018-06-04   2018-06-05
1  0.001238291 0.011695739 -0.007053274 -0.003547776  0.003162351 -0.005049502
2 -0.001696881 0.028669361 -0.012173706  0.002155198 -0.012253263 -0.002154042
3 -0.015959552 0.012555582 -0.010942939  0.010095531  0.005981400  0.003198089
4 -0.006059243 0.009546631 -0.001903148  0.022277656  0.003563116  0.007483896
    2018-06-06   2018-06-07   2018-06-08  2018-06-11   2018-06-12    2018-06-13
1 -0.005781605  0.002795166  0.005472490 0.001419442  0.008011873 -0.0102443629
2  0.003809198  0.016374668 -0.004469895 0.005602012 -0.005129724 -0.0031941768
3  0.011968862  0.001149033  0.005784347 0.001753974  0.001399618 -0.0055633906
4  0.008494834 -0.013241385  0.004352640 0.002487955  0.008414511  0.0006958373
     2018-06-14   2018-06-15    2018-06-18    2018-06-19  2018-06-20
1  0.0089727967  0.005189750 -0.0037548361  0.0055750955 0.004292090
2 -0.0051560680 -0.022707272  0.0173805699  0.0006035218 0.010461839
3  0.0009142176  0.001952892 -0.0026534461 -0.0061898455 0.001076239
4  0.0095731668 -0.001900661  0.0009221515 -0.0088464161 0.006518084
    2018-06-21   2018-06-22   2018-06-25   2018-06-26   2018-06-27   2018-06-28
1  0.003094840  0.008221106  0.009402708  0.000226482 -0.001854346  0.007254731
2 -0.022917019  0.024278987 -0.026779988  0.017510326  0.015372888 -0.003154605
3 -0.005383937  0.001021374 -0.011979354 -0.001118698 -0.010185976  0.002804796
4 -0.010378518 -0.007791614 -0.025003868  0.003632608 -0.020827173  0.010604506
     2018-06-29   2018-07-02   2018-07-03   2018-07-05  2018-07-06  2018-07-09
1  6.340609e-04 -0.002681042  0.004025346  0.012383700 0.005028909 -0.01604752
2  6.801777e-03 -0.016776871  0.009084328 -0.001488715 0.013008260  0.01913839
3 -6.855821e-05  0.001471821 -0.001898671  0.006614258 0.006908309  0.01402647
4  3.736572e-03  0.007468319 -0.011619902  0.013982441 0.012671282  0.00729805
   2018-07-10   2018-07-11   2018-07-12    2018-07-13   2018-07-16   2018-07-17
1 0.006173772  0.002633196 7.831687e-04  0.0004614193 -0.004724125 -0.001728087
2 0.003473632 -0.024131440 7.366942e-05  0.0050874219 -0.015230587 -0.001992870
3 0.001312620 -0.009738650 4.563560e-03  0.0012950176 -0.001679823  0.004588254
4 0.003275802 -0.008306789 1.727150e-02 -0.0023338092 -0.002482895  0.008792052
    2018-07-18   2018-07-19   2018-07-20   2018-07-23    2018-07-24  2018-07-25
1 -0.007769495  0.008153929 -0.005246509 -0.004892180 -0.0005005501 0.007607577
2  0.001663189 -0.001796304 -0.003616946 -0.003431901  0.0104494824 0.008122618
3  0.005521811 -0.001518489 -0.002652620  0.001778067 -0.0004441636 0.007192060
4  0.002761209 -0.004980070 -0.004154766  0.002027684 -0.0080874714 0.016187298
     2018-07-26   2018-07-27   2018-07-30   2018-07-31   2018-08-01
1  0.0079688330 -0.005027542 -0.002331982  0.012574433 -0.002755748
2  0.0131985204  0.001280992  0.012986403 -0.002268616 -0.015730558
3  0.0029787150 -0.003446809 -0.003156086  0.008038429 -0.007249964
4 -0.0006751857 -0.020919476 -0.021618702  0.002895817 -0.002711583
    2018-08-02    2018-08-03   2018-08-06   2018-08-07    2018-08-08
1  0.004132915  0.0134441240 0.0002851608 -0.003699128 -0.0047101273
2 -0.002134323 -0.0073460616 0.0052397976  0.003959465 -0.0085479395
3  0.002993146  0.0051696868 0.0014640732  0.003157818 -0.0006984346
4  0.014229673 -0.0002601396 0.0082356891  0.003361766  0.0003471306
     2018-08-09   2018-08-10    2018-08-13  2018-08-14   2018-08-15  2018-08-16
1  0.0015381073 -0.005940741  0.0008234634 0.004398117  0.008029299 0.009135530
2 -0.0108872145  0.007638768 -0.0144547914 0.004542780 -0.042438317 0.006339482
3 -0.0007957794 -0.008728654 -0.0054871905 0.010200628 -0.006691091 0.008967913
4 -0.0008920641 -0.009182561 -0.0022671805 0.006780214 -0.015767129 0.004438533
    2018-08-17   2018-08-20   2018-08-21   2018-08-22   2018-08-23  2018-08-24
1  0.007732354 2.692069e-07 -0.009589298 -0.006575943 -0.001255369 0.004500810
2  0.003224037 8.421130e-03  0.008349307  0.013378383 -0.005292100 0.008073458
3  0.006126832 5.942634e-03  0.005122876 -0.003894045 -0.003921203 0.003449513
4 -0.001760454 4.049175e-03  0.008199431  0.006730186  0.001981029 0.015124691
    2018-08-27    2018-08-28  2018-08-29   2018-08-30    2018-08-31
1 -0.002951911  1.332308e-03 0.002524474 -0.002927028  0.0011652746
2  0.009180901 -5.525657e-03 0.007257279 -0.002890487 -0.0073978491
3  0.007595955  4.536910e-06 0.003219045 -0.007957643  0.0014553869
4  0.009845194  3.794339e-03 0.007306630 -0.006688627  0.0006588377
     2018-09-04   2018-09-05   2018-09-06   2018-09-07   2018-09-10
1 -0.0024738521  0.010518901  0.005232278 -0.009005451 0.0056867858
2 -0.0073232978 -0.004506993 -0.019382860 -0.004880020 0.0006737391
3 -0.0012439741  0.002183078 -0.000759536 -0.001954284 0.0029803154
4 -0.0009675634 -0.018543501 -0.011209654 -0.004386366 0.0087879660
     2018-09-11   2018-09-12    2018-09-13   2018-09-14    2018-09-17
1 -0.0019538731  0.003579706  4.775531e-03 -0.005895538  0.0034210890
2  0.0122762856  0.009381701 -2.306182e-06  0.004538664  0.0006103131
3  0.0005049789  0.001161493  4.018751e-03  0.003053672 -0.0031778985
4  0.0018295441 -0.002137449  6.462456e-03  0.001758224 -0.0163136879
    2018-09-18   2018-09-19   2018-09-20    2018-09-21   2018-09-24
1 -0.005822705 -0.012892316  0.006698837  0.0026245042 -0.014558807
2  0.011631923  0.002892712 -0.004188770  0.0082752213  0.013828416
3  0.005551467  0.004069505  0.006322862  0.0003726642 -0.010072955
4  0.010072334 -0.002499493  0.012692587 -0.0003286405  0.006489045
     2018-09-25   2018-09-26    2018-09-27    2018-09-28   2018-10-01
1 -0.0056531970 -0.008520217  0.0010554973  0.0117954826 -0.004743913
2  0.0079921453 -0.009821787 -0.0002961086  0.0005533699  0.013778724
3 -0.0034740979 -0.002645426 -0.0009807794 -0.0007368244  0.001618323
4 -0.0008218263 -0.002833221  0.0055217433  0.0020502699 -0.004922243
     2018-10-02   2018-10-03    2018-10-04   2018-10-05   2018-10-08
1  0.0063449319 -0.010963752  0.0005911404  0.007115132  0.011777449
2 -0.0008793832  0.013208412 -0.0075673719 -0.002222662 -0.004422415
3 -0.0021978236  0.001595167 -0.0056339596 -0.005892240  0.002315831
4 -0.0096354843  0.003528746 -0.0233264347 -0.017356286 -0.016146227
    2018-10-09  2018-10-10  2018-10-11   2018-10-12    2018-10-15 2018-10-16
1  0.001382168 -0.01068745 -0.02451301 0.0009265891  0.0063396100 0.01495123
2  0.011660485 -0.04102685 -0.03066850 0.0059181717 -0.0069465232 0.01198762
3 -0.008888514 -0.02905836 -0.02220585 0.0079626327  0.0003925018 0.01900308
4 -0.002245737 -0.04697040 -0.01005558 0.0285292180 -0.0109009681 0.03496553
     2018-10-17    2018-10-18   2018-10-19   2018-10-22   2018-10-23
1 -0.0014392965  0.0003157027  0.014528266 -0.009878428  0.002693487
2 -0.0121314041 -0.0110406026 -0.013063143 -0.010377735 -0.029278040
3 -0.0022031050 -0.0143254165 -0.004171677 -0.006903643 -0.006763992
4 -0.0001182299 -0.0250782664 -0.012541599  0.003844884 -0.003859615
   2018-10-24   2018-10-25   2018-10-26   2018-10-29 2018-10-30   2018-10-31
1  0.01353611 -0.003340079 -0.020372884  0.014181789 0.01125114 -0.011297427
2 -0.04585749  0.015249528 -0.009554609 -0.024947273 0.02341653  0.006087733
3 -0.03132646  0.015441294 -0.012819263  0.001596918 0.01998755  0.008027797
4 -0.05208563  0.028991360 -0.023718562 -0.018802822 0.03454404  0.021504480
   2018-11-01   2018-11-02   2018-11-05  2018-11-06  2018-11-07    2018-11-08
1 0.003747117 -0.009108626  0.013772235 0.008152953 0.008792495  0.0004581358
2 0.010308997 -0.009730453  0.018923407 0.002004953 0.022724471 -0.0277091571
3 0.015634660 -0.001293155  0.006938079 0.007426739 0.014704492  0.0004365969
4 0.032081398 -0.003883827 -0.005924196 0.005474840 0.027114895 -0.0034784146
    2018-11-09   2018-11-12    2018-11-13   2018-11-14   2018-11-15
1  0.005367340  0.001904854  0.0001916946 -0.004133400 -0.004406745
2 -0.004971914 -0.029063167 -0.0251968257  0.003142088  0.020515330
3 -0.008675371 -0.015211256  0.0008174817 -0.007268626  0.008872325
4 -0.024619687 -0.033687808  0.0041571717 -0.005272713  0.023355178
    2018-11-16   2018-11-19   2018-11-20   2018-11-21    2018-11-23 2018-11-26
1  0.010063612  0.001588685 -0.008086658 -0.006933761 -7.387090e-06 0.00222745
2  0.007680349 -0.006087903 -0.040522927  0.018658251 -3.653804e-02 0.02157185
3  0.002216731 -0.012261967 -0.018868549  0.007797251 -1.868033e-03 0.01391096
4 -0.005298491 -0.044615610 -0.007829112  0.012297653 -2.928696e-03 0.02792190
    2018-11-27  2018-11-28    2018-11-29   2018-11-30  2018-12-03   2018-12-04
1  0.005847793 0.002822177  0.0002154275  0.011292338 0.003797532 -0.008022436
2 -0.006230058 0.016374453  0.0053696702 -0.006236157 0.026350978 -0.035131989
3 -0.001218930 0.020257793 -0.0037995937  0.005229962 0.008915859 -0.034976107
4  0.000669214 0.032255508 -0.0073804570  0.008241973 0.021707438 -0.044736643
    2018-12-06   2018-12-07   2018-12-10   2018-12-11  2018-12-12   2018-12-13
1  0.009630455 -0.007000921 -0.000701633  0.004753714 -0.00950557  0.008867633
2 -0.025829610 -0.007277311 -0.022566657 -0.003490909  0.01204804 -0.002388297
3 -0.006218295 -0.023407900 -0.003215619 -0.003893997  0.00769762 -0.008218803
4  0.008023883 -0.037844459  0.009075633  0.001617522  0.01094937 -0.009546741
    2018-12-14  2018-12-17   2018-12-18   2018-12-19   2018-12-20  2018-12-21
1 -0.006215472 -0.03181874 -0.002335696 -0.005963248 -0.009304501 -0.01104888
2 -0.028984553 -0.01903142 -0.022103904 -0.013217782 -0.028551975 -0.01564321
3 -0.014658242 -0.01759075 -0.001704006 -0.015390412 -0.016571956 -0.01838267
4 -0.020016222 -0.02540093  0.010933420 -0.029032982 -0.017370866 -0.03004544
   2018-12-24 2018-12-26  2018-12-27    2018-12-28  2018-12-31   2019-01-02
1 -0.03925786 0.02519597 0.005720476  0.0005493469 0.003374524 -0.017623973
2 -0.04288499 0.07139516 0.003921202 -0.0097765403 0.006628301  0.019069103
3 -0.02226213 0.04534322 0.008903106 -0.0019643956 0.009390790  0.002999051
4 -0.02366252 0.06254006 0.010954290 -0.0021091840 0.008540171  0.003843006
    2019-01-03 2019-01-04  2019-01-07  2019-01-08   2019-01-09  2019-01-10
1  0.003428785 0.01352601 0.002960760 0.014579573 -0.004437992 0.014320030
2 -0.007154041 0.04511775 0.020515467 0.011879849  0.021232497 0.007079545
3 -0.020498572 0.03395158 0.009397651 0.009803304  0.006131962 0.004161268
4 -0.042207626 0.04949310 0.021900070 0.011169862  0.017527869 0.006892676
     2019-01-11    2019-01-14  2019-01-15    2019-01-16  2019-01-17  2019-01-18
1  0.0006439650 -7.487770e-03 0.011233657  0.0018849468 0.005550432 0.005066536
2 -0.0044939986 -5.779135e-05 0.004220701  0.0005469789 0.013001543 0.020885746
3  0.0019697839 -2.211265e-03 0.004755527  0.0034638122 0.009621661 0.016372572
4 -0.0000643815 -1.263161e-02 0.016148265 -0.0003493891 0.009778713 0.018933426
    2019-01-22    2019-01-23   2019-01-24    2019-01-25   2019-01-28
1 -0.003042516  0.0054318391 -0.002902421 -0.0007662691  0.003788257
2 -0.026342440 -0.0139855530  0.002068247  0.0200460247 -0.015255646
3 -0.013525856  0.0008376363  0.002910626  0.0104049820 -0.003409732
4 -0.022274543 -0.0051502604  0.025276525  0.0213786649 -0.011670435
    2019-01-29  2019-01-30    2019-01-31   2019-02-01  2019-02-04   2019-02-05
1  0.004292367 0.007180800  0.0144310699 -0.004675601 0.004866655  0.001337625
2  0.006852493 0.020060173 -0.0004307433  0.008515918 0.006715036 -0.001705462
3  0.003457064 0.007812059  0.0051356841  0.002655385 0.004837957  0.004876282
4 -0.013352553 0.025220812  0.0100370290  0.008579466 0.006612912  0.007444096
     2019-02-06   2019-02-07    2019-02-08  2019-02-11    2019-02-12
1 -0.0032362265  0.005879985  0.0041796637 0.001155150 -0.0007469276
2 -0.0072253794 -0.032870943 -0.0073106553 0.009675432  0.0109777684
3 -0.0007242068 -0.005505920  0.0003808557 0.002443940  0.0144575364
4  0.0011515879 -0.016007614  0.0108905276 0.002164051  0.0187379927
   2019-02-13    2019-02-14  2019-02-15
1 0.001301848 -0.0018576514 0.006505341
2 0.018636127  0.0069304497 0.016988955
3 0.003986743 -0.0036341950 0.013290681
4 0.002882583  0.0008287979 0.003344893

Clustering vector:
  [1] 3 4 3 4 3 3 4 3 3 4 4 3 3 3 4 1 1 1 3 3 3 1 3 3 4 3 4 3 3 3 4 4 4 3 3 3 3
 [38] 1 4 4 4 3 3 3 2 2 3 3 3 1 3 1 4 1 4 3 1 3 3 3 3 3 3 3 3 3 3 2 3 3 3 3 3 3
 [75] 3 3 3 1 3 1 3 3 3 3 3 3 1 4 3 3 3 3 3 1 3 3 3 3 1 1 3 3 3 3 3 1 3 1 3 3 3
[112] 2 3 3 1 3 3 4 4 3 3 3 3 3 3 2 2 1 3 3 3 3 3 3 3 3 3 3 3 1 3 3 1 3 1 1 3 2
[149] 3 3 4 3 3 1 3 1 3 3 3 2 1 1 1 1 3 3 1 1 4 1 3 3 1 3 2 3 4 3 2 3 1 4 3 3 3
[186] 3 3 2 3 3 3 3 3 3 1 2 4 3 3 3 3 1 3 3 4 4 3 4 3 3 3 3 3 2 3 3 3 3 1 3 2 2
[223] 3 3 3 3 3 3 2 4 3 3 1 3 3 3 1 3 3 3 4 3 4 4 3 4 4 3 3 4 3 3 1 4 3 3 3 3 3
[260] 3 3 3 3 3 3 3 1 3 4 1 1 4 1 2 3 1 3 3 3 3 3 3 3 3 3 3 3 3 3 3 1 3 4 3 1 3
[297] 3 4 1 1 3 3 4 1 4 3 3 1 3 3 4 3 1 3 3 3 3 1 3 2 3 2 3 4 4 3 3 3 4 4 3 2 3
[334] 3 1 3 4 1 3 4 3 3 2 1 3 4 3 3 4 3 3 3 1 2 3 3 3 2 3 3 3 1 1 3 3 1 3 3 3 3
[371] 3 1 1 3 3 1 3 1 3 3 1 2 3 3 2 4 3 4 3 3 1 3 3 4 3 3 3 3 3 3 3 3 3 3 1 3 3
[408] 3 3 3 1 2 1 3 4 1 1 3 1 3 3 4 3 3 4 3 3 4 1 3 1 3 3 3 3 3 3 3 3 3 4 3 3 3
[445] 1 4 4 4 4 3 4 4 3 1 3 3 3 3 3 3 4 3 3 4 3 3 3 2 3 1 3 4 4 1 1 3 3 3 4 1 1
[482] 3 3 3 1 2 3 3 3 1 4 2 1 4 2 3 3 3 3 3 3 3

Within cluster sum of squares by cluster:
[1]  2.554867  1.588895 18.051976  7.009809
 (between_SS / total_SS =  13.1 %)

Available components:

[1] "cluster"      "centers"      "totss"        "withinss"     "tot.withinss"
[6] "betweenss"    "size"         "iter"         "ifault"      </code></pre>
</div>
</div>
<p>Use <code>glance()</code> to get the <code>tot.withinss</code>.</p>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-10_817aab8c1c2b828ef005e53eb876cd03">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply glance() to get the tot.withinss</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>tot_withinss <span class="ot">&lt;-</span> <span class="fu">glance</span>(kmeans_obj)<span class="sc">$</span>tot.withinss</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>tot_withinss</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 29.20555</code></pre>
</div>
</div>
</section>
<section id="step-4---find-the-optimal-value-of-k" class="level2">
<h2 class="anchored" data-anchor-id="step-4---find-the-optimal-value-of-k">Step 4 - Find the optimal value of K</h2>
<p>Now that we are familiar with the process for calculating <code>kmeans()</code>, let’s use <code>purrr</code> to iterate over many values of “k” using the <code>centers</code> argument.</p>
<p>We’ll use this <strong>custom function</strong> called <code>kmeans_mapper()</code>:</p>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-11_6227213f05cc5f5a3e110ad7844428c4">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>kmeans_mapper <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">center =</span> <span class="dv">3</span>) {</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    stock_date_matrix_tbl <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">select</span>(<span class="sc">-</span>symbol) <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">kmeans</span>(<span class="at">centers =</span> center, <span class="at">nstart =</span> <span class="dv">20</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Apply the <code>kmeans_mapper()</code> and <code>glance()</code> functions iteratively using <code>purrr</code>.</p>
<ul>
<li>Create a tibble containing column called <code>centers</code> that go from 1 to 30</li>
<li>Add a column named <code>k_means</code> with the <code>kmeans_mapper()</code> output. Use <code>mutate()</code> to add the column and <code>map()</code> to map centers to the <code>kmeans_mapper()</code> function.</li>
<li>Add a column named <code>glance</code> with the <code>glance()</code> output. Use <code>mutate()</code> and <code>map()</code> again to iterate over the column of <code>k_means</code>.</li>
<li>Save the output as <code>k_means_mapped_tbl</code></li>
</ul>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-12_b99b33a0d1bc6ecda2683d4e801db19e">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use purrr to map</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>k_means_mapped_tbl <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">centers =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>k_means_mapped_tbl <span class="ot">&lt;-</span> k_means_mapped_tbl <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">k_means =</span> <span class="fu">map</span>(centers, kmeans_mapper))</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>k_means_mapped_tbl <span class="ot">&lt;-</span> k_means_mapped_tbl <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">glance =</span> <span class="fu">map</span>(k_means, glance))</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Output: k_means_mapped_tbl </span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>k_means_mapped_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 3
   centers k_means  glance          
     &lt;int&gt; &lt;list&gt;   &lt;list&gt;          
 1       1 &lt;kmeans&gt; &lt;tibble [1 × 4]&gt;
 2       2 &lt;kmeans&gt; &lt;tibble [1 × 4]&gt;
 3       3 &lt;kmeans&gt; &lt;tibble [1 × 4]&gt;
 4       4 &lt;kmeans&gt; &lt;tibble [1 × 4]&gt;
 5       5 &lt;kmeans&gt; &lt;tibble [1 × 4]&gt;
 6       6 &lt;kmeans&gt; &lt;tibble [1 × 4]&gt;
 7       7 &lt;kmeans&gt; &lt;tibble [1 × 4]&gt;
 8       8 &lt;kmeans&gt; &lt;tibble [1 × 4]&gt;
 9       9 &lt;kmeans&gt; &lt;tibble [1 × 4]&gt;
10      10 &lt;kmeans&gt; &lt;tibble [1 × 4]&gt;
# ℹ 20 more rows</code></pre>
</div>
</div>
<p>Next, let’s visualize the “tot.withinss” from the glance output as a <strong><em>Scree Plot</em></strong>.</p>
<ul>
<li>Begin with the <code>k_means_mapped_tbl</code></li>
<li>Unnest the <code>glance</code> column</li>
<li>Plot the <code>centers</code> column (x-axis) versus the <code>tot.withinss</code> column (y-axis) using <code>geom_point()</code> and <code>geom_line()</code></li>
<li>Add a title “Scree Plot” and feel free to style it with your favorite theme</li>
</ul>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-13_40fb22b73be7bd0e3f0d6de5102a6489">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize Scree Plot</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>glance_column <span class="ot">&lt;-</span> <span class="fu">unnest</span>(k_means_mapped_tbl, <span class="at">cols =</span> glance)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(glance_column, <span class="fu">aes</span>(<span class="at">x =</span> centers, <span class="at">y =</span> tot.withinss)) <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Centers"</span>) <span class="sc">+</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Total Within-Cluster Sum of Squares"</span>) <span class="sc">+</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Scree Plot"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="Chapter_1_Challenge_files/figure-html/unnamed-chunk-13-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="Chapter_1_Challenge_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>We can see that the Scree Plot becomes linear (constant rate of change) between 5 and 10 centers for K.</p>
</section>
<section id="step-5---apply-umap" class="level2">
<h2 class="anchored" data-anchor-id="step-5---apply-umap">Step 5 - Apply UMAP</h2>
<p>Next, let’s plot the <code>UMAP</code> 2D visualization to help us investigate cluster assignments.</p>
<p>We’re going to import the correct results first (just in case you were not able to complete the last step).</p>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-14_800969609d8ab9593fed2c64541b7152">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>k_means_mapped_tbl <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"k_means_mapped_tbl.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First, let’s apply the <code>umap()</code> function to the <code>stock_date_matrix_tbl</code>, which contains our user-item matrix in tibble format.</p>
<ul>
<li>Start with <code>stock_date_matrix_tbl</code></li>
<li>De-select the <code>symbol</code> column</li>
<li>Use the <code>umap()</code> function storing the output as <code>umap_results</code></li>
</ul>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-15_c10873b073ab5ff45838e3e41d968454">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply UMAP</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> stock_date_matrix_tbl <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>symbol)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Store results as: umap_results </span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>umap_results <span class="ot">&lt;-</span> temp <span class="sc">%&gt;%</span> <span class="fu">umap</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Next, we want to combine the <code>layout</code> from the <code>umap_results</code> with the <code>symbol</code> column from the <code>stock_date_matrix_tbl</code>.</p>
<ul>
<li>Start with <code>umap_results$layout</code></li>
<li>Convert from a <code>matrix</code> data type to a <code>tibble</code> with <code>as_tibble()</code></li>
<li>Bind the columns of the umap tibble with the <code>symbol</code> column from the <code>stock_date_matrix_tbl</code>.</li>
<li>Save the results as <code>umap_results_tbl</code>.</li>
</ul>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-16_24105527d2377435ba61e942f70a16e1">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert umap results to tibble with symbols</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>layout <span class="ot">&lt;-</span> umap_results<span class="sc">$</span>layout</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>layout_tibble <span class="ot">&lt;-</span> layout <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>()</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>umap_results_tbl <span class="ot">&lt;-</span> layout_tibble <span class="sc">%&gt;%</span> <span class="fu">bind_cols</span>(stock_date_matrix_tbl<span class="sc">$</span>symbol)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Output: umap_results_tbl</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>umap_results_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 502 × 3
        V1      V2 ...3 
     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;
 1 -1.88    0.253  A    
 2  0.0300  1.40   AAL  
 3  0.258  -1.01   AAP  
 4 -2.89   -0.324  AAPL 
 5  0.601   0.0962 ABBV 
 6  1.02   -0.0906 ABC  
 7 -2.89   -1.02   ABMD 
 8 -1.06   -0.198  ABT  
 9 -1.87   -0.265  ACN  
10 -3.05   -0.864  ADBE 
# ℹ 492 more rows</code></pre>
</div>
</div>
<p>Finally, let’s make a quick visualization of the <code>umap_results_tbl</code>.</p>
<ul>
<li>Pipe the <code>umap_results_tbl</code> into <code>ggplot()</code> mapping the columns to x-axis and y-axis</li>
<li>Add a <code>geom_point()</code> geometry with an <code>alpha = 0.5</code></li>
<li>Apply <code>theme_tq()</code> and add a title “UMAP Projection”</li>
</ul>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-17_77cf66b6278e4c00d2b3e048e612942e">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize UMAP results</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>umap_results_tbl <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> V1, <span class="at">y =</span> V2)) <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">theme_tq</span>() <span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">ggtitle</span>(<span class="st">"UMAP Projection"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="Chapter_1_Challenge_files/figure-html/unnamed-chunk-17-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="Chapter_1_Challenge_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>We can now see that we have some clusters. However, we still need to combine the K-Means clusters and the UMAP 2D representation.</p>
</section>
<section id="step-6---combine-k-means-and-umap" class="level2">
<h2 class="anchored" data-anchor-id="step-6---combine-k-means-and-umap">Step 6 - Combine K-Means and UMAP</h2>
<p>Next, we combine the K-Means clusters and the UMAP 2D representation</p>
<p>We’re going to import the correct results first (just in case you were not able to complete the last step).</p>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-18_28bfd56b19ae1cc82f2456aab62d2bb5">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>k_means_mapped_tbl <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"k_means_mapped_tbl.rds"</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>umap_results_tbl   <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"umap_results_tbl.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>First, pull out the K-Means for 10 Centers. Use this since beyond this value the Scree Plot flattens. Have a look at the business case to recall how that works.</p>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-19_c2ce8d4f51d5feb41e91706f7dcd74ea">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the k_means_obj from the 10th center</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>ten_centers_kmeans <span class="ot">&lt;-</span> k_means_mapped_tbl<span class="sc">$</span>k_means[k_means_mapped_tbl<span class="sc">$</span>centers <span class="sc">==</span> <span class="dv">10</span>]</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Store as k_means_obj</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>k_means_obj <span class="ot">&lt;-</span> ten_centers_kmeans[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Next, we’ll combine the clusters from the <code>k_means_obj</code> with the <code>umap_results_tbl</code>.</p>
<ul>
<li>Begin with the <code>k_means_obj</code></li>
<li>Augment the <code>k_means_obj</code> with the <code>stock_date_matrix_tbl</code> to get the clusters added to the end of the tibble</li>
<li>Select just the <code>symbol</code> and <code>.cluster</code> columns</li>
<li>Left join the result with the <code>umap_results_tbl</code> by the <code>symbol</code> column</li>
<li>Left join the result with the result of <code>sp_500_index_tbl %&gt;% select(symbol, company, sector)</code> by the <code>symbol</code> column.</li>
<li>Store the output as <code>umap_kmeans_results_tbl</code></li>
</ul>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-20_6f9938296ec50afd644a7a5d28f5b708">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use your dplyr &amp; broom skills to combine the k_means_obj with the umap_results_tbl</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>cluster_tibble <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(k_means_obj<span class="sc">$</span>cluster)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>augmented_tibble <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(stock_date_matrix_tbl, cluster_tibble)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>augmented_tibble <span class="ot">&lt;-</span> <span class="fu">select</span>(augmented_tibble, symbol, value)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>joined_tibble <span class="ot">&lt;-</span> <span class="fu">left_join</span>(augmented_tibble, umap_results_tbl, <span class="at">by =</span> <span class="st">"symbol"</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>temp_sp_500 <span class="ot">&lt;-</span> sp_500_index_tbl <span class="sc">%&gt;%</span> <span class="fu">select</span>(symbol, company, sector)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>umap_kmeans_results_tbl <span class="ot">&lt;-</span> <span class="fu">left_join</span>(temp_sp_500, joined_tibble, <span class="at">by =</span> <span class="st">"symbol"</span>)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Output: umap_kmeans_results_tbl </span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>umap_kmeans_results_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    symbol                                             company
1     MSFT                               Microsoft Corporation
2     AAPL                                          Apple Inc.
3     AMZN                                     Amazon.com Inc.
4    BRK.B                     Berkshire Hathaway Inc. Class B
5       FB                               Facebook Inc. Class A
6      JNJ                                   Johnson &amp; Johnson
7      JPM                                JPMorgan Chase &amp; Co.
8     GOOG                               Alphabet Inc. Class C
9    GOOGL                               Alphabet Inc. Class A
10     XOM                             Exxon Mobil Corporation
11     BAC                                Bank of America Corp
12     UNH                     UnitedHealth Group Incorporated
13       V                                   Visa Inc. Class A
14      PG                            Procter &amp; Gamble Company
15     PFE                                         Pfizer Inc.
16    INTC                                   Intel Corporation
17     CVX                                 Chevron Corporation
18      VZ                         Verizon Communications Inc.
19    CSCO                                  Cisco Systems Inc.
20       T                                           AT&amp;T Inc.
21      BA                                      Boeing Company
22      HD                                     Home Depot Inc.
23     WFC                               Wells Fargo &amp; Company
24     MRK                                    Merck &amp; Co. Inc.
25      MA                     Mastercard Incorporated Class A
26      KO                                   Coca-Cola Company
27   CMCSA                         Comcast Corporation Class A
28     DIS                                 Walt Disney Company
29     PEP                                        PepsiCo Inc.
30       C                                      Citigroup Inc.
31    NFLX                                        Netflix Inc.
32     WMT                                        Walmart Inc.
33     MCD                              McDonald's Corporation
34     ABT                                 Abbott Laboratories
35    ORCL                                  Oracle Corporation
36      PM                    Philip Morris International Inc.
37    ADBE                                          Adobe Inc.
38     IBM         International Business Machines Corporation
39     UNP                           Union Pacific Corporation
40    DWDP                                      DowDuPont Inc.
41     MDT                                       Medtronic plc
42    ABBV                                         AbbVie Inc.
43     MMM                                          3M Company
44     CRM                                 salesforce.com inc.
45    AMGN                                          Amgen Inc.
46    AVGO                                       Broadcom Inc.
47     LLY                               Eli Lilly and Company
48     HON                        Honeywell International Inc.
49    PYPL                                 PayPal Holdings Inc
50     NKE                                   NIKE Inc. Class B
51     UTX                     United Technologies Corporation
52     TXN                      Texas Instruments Incorporated
53     TMO                       Thermo Fisher Scientific Inc.
54     ACN                               Accenture Plc Class A
55    NVDA                                  NVIDIA Corporation
56    COST                        Costco Wholesale Corporation
57     LIN                                           Linde plc
58      MO                                    Altria Group Inc
59     CVS                              CVS Health Corporation
60    BKNG                               Booking Holdings Inc.
61     NEE                                 NextEra Energy Inc.
62      GE                            General Electric Company
63    SBUX                               Starbucks Corporation
64    GILD                                Gilead Sciences Inc.
65     BMY                        Bristol-Myers Squibb Company
66     LOW                               Lowe's Companies Inc.
67     COP                                      ConocoPhillips
68    ANTM                                         Anthem Inc.
69     CAT                                    Caterpillar Inc.
70     AMT                          American Tower Corporation
71     USB                                        U.S. Bancorp
72     UPS                  United Parcel Service Inc. Class B
73     LMT                         Lockheed Martin Corporation
74     AXP                            American Express Company
75      CI                                   Cigna Corporation
76    MDLZ                 Mondelez International Inc. Class A
77      GS                            Goldman Sachs Group Inc.
78     DHR                                 Danaher Corporation
79    BIIB                                         Biogen Inc.
80     BDX                        Becton Dickinson and Company
81     ADP                      Automatic Data Processing Inc.
82    CELG                                 Celgene Corporation
83    QCOM                               QUALCOMM Incorporated
84     CME                              CME Group Inc. Class A
85     TJX                                   TJX Companies Inc
86    ISRG                             Intuitive Surgical Inc.
87     DUK                             Duke Energy Corporation
88    CHTR                 Charter Communications Inc. Class A
89     SLB                                     Schlumberger NV
90      CB                                       Chubb Limited
91    INTU                                         Intuit Inc.
92     WBA                        Walgreens Boots Alliance Inc
93     CSX                                     CSX Corporation
94     EOG                                  EOG Resources Inc.
95     SYK                                 Stryker Corporation
96     PNC                   PNC Financial Services Group Inc.
97      CL                           Colgate-Palmolive Company
98     SPG                           Simon Property Group Inc.
99    SCHW                          Charles Schwab Corporation
100    BSX                       Boston Scientific Corporation
101      D                                 Dominion Energy Inc
102     MS                                      Morgan Stanley
103   FOXA               Twenty-First Century Fox Inc. Class A
104    BLK                                      BlackRock Inc.
105    RTN                                    Raytheon Company
106    OXY                    Occidental Petroleum Corporation
107     GM                              General Motors Company
108     DE                                     Deere &amp; Company
109     SO                                    Southern Company
110    NSC                        Norfolk Southern Corporation
111    NOC                        Northrop Grumman Corporation
112   SPGI                                     S&amp;P Global Inc.
113    CCI                     Crown Castle International Corp
114     GD                        General Dynamics Corporation
115     BK                 Bank of New York Mellon Corporation
116   VRTX                 Vertex Pharmaceuticals Incorporated
117     MU                              Micron Technology Inc.
118    EXC                                  Exelon Corporation
119    MMC                     Marsh &amp; McLennan Companies Inc.
120    ZTS                                 Zoetis Inc. Class A
121    MPC                      Marathon Petroleum Corporation
122    PLD                                       Prologis Inc.
123    MET                                        MetLife Inc.
124    ITW                            Illinois Tool Works Inc.
125    AGN                                        Allergan plc
126   ILMN                                       Illumina Inc.
127    FDX                                   FedEx Corporation
128    ICE                      Intercontinental Exchange Inc.
129    EMR                                Emerson Electric Co.
130    HUM                                         Humana Inc.
131   CTSH  Cognizant Technology Solutions Corporation Class A
132    AON                                             Aon plc
133    ECL                                         Ecolab Inc.
134    PGR                             Progressive Corporation
135    KMB                          Kimberly-Clark Corporation
136    PSX                                         Phillips 66
137    PRU                           Prudential Financial Inc.
138    ADI                                 Analog Devices Inc.
139    BBT                                    BB&amp;T Corporation
140    AEP                American Electric Power Company Inc.
141    COF                   Capital One Financial Corporation
142     WM                               Waste Management Inc.
143    HCA                                  HCA Healthcare Inc
144   AMAT                              Applied Materials Inc.
145    TGT                                  Target Corporation
146    APD                     Air Products and Chemicals Inc.
147    AFL                                  Aflac Incorporated
148    AIG                   American International Group Inc.
149     EW                    Edwards Lifesciences Corporation
150    HPQ                                             HP Inc.
151    BAX                           Baxter International Inc.
152    SHW                            Sherwin-Williams Company
153    VLO                           Valero Energy Corporation
154    FIS         Fidelity National Information Services Inc.
155    KMI                           Kinder Morgan Inc Class P
156   ROST                                    Ross Stores Inc.
157   ADSK                                       Autodesk Inc.
158    MAR                 Marriott International Inc. Class A
159     EL                 Estee Lauder Companies Inc. Class A
160   FISV                                         Fiserv Inc.
161    TRV                            Travelers Companies Inc.
162    ETN                                     Eaton Corp. Plc
163   EQIX                                        Equinix Inc.
164   ATVI                            Activision Blizzard Inc.
165      F                                  Ford Motor Company
166   EBAY                                           eBay Inc.
167    WMB                             Williams Companies Inc.
168   REGN                      Regeneron Pharmaceuticals Inc.
169     EA                                Electronic Arts Inc.
170    ALL                                Allstate Corporation
171    JCI                  Johnson Controls International plc
172    SYY                                   Sysco Corporation
173    ROP                             Roper Technologies Inc.
174    DAL                                Delta Air Lines Inc.
175    RHT                                        Red Hat Inc.
176     DG                          Dollar General Corporation
177    SRE                                       Sempra Energy
178   ORLY                            O'Reilly Automotive Inc.
179    PSA                                      Public Storage
180   XLNX                                         Xilinx Inc.
181    STI                                 SunTrust Banks Inc.
182    YUM                                    Yum! Brands Inc.
183    LUV                              Southwest Airlines Co.
184    KHC                                 Kraft Heinz Company
185   WELL                                      Welltower Inc.
186    STZ                   Constellation Brands Inc. Class A
187   ALXN                        Alexion Pharmaceuticals Inc.
188    TEL                                TE Connectivity Ltd.
189   LRCX                            Lam Research Corporation
190    PEG                 Public Service Enterprise Group Inc
191    VFC                                    V.F. Corporation
192    MCO                                 Moody's Corporation
193    HAL                                 Halliburton Company
194    LYB                        LyondellBasell Industries NV
195    GLW                                         Corning Inc
196    OKE                                          ONEOK Inc.
197    APH                        Amphenol Corporation Class A
198    XEL                                    Xcel Energy Inc.
199    AVB                          AvalonBay Communities Inc.
200    MCK                                McKesson Corporation
201    EQR                                  Equity Residential
202    GIS                                  General Mills Inc.
203    STT                            State Street Corporation
204    CNC                                 Centene Corporation
205    PPG                                 PPG Industries Inc.
206     IR                                  Ingersoll-Rand Plc
207    ZBH                         Zimmer Biomet Holdings Inc.
208      A                           Agilent Technologies Inc.
209    MTB                                M&amp;T Bank Corporation
210    PXD                   Pioneer Natural Resources Company
211    CXO                               Concho Resources Inc.
212    DFS                         Discover Financial Services
213     ED                            Consolidated Edison Inc.
214    HLT                       Hilton Worldwide Holdings Inc
215    FOX               Twenty-First Century Fox Inc. Class B
216   PAYX                                        Paychex Inc.
217    FTV                                       Fortive Corp.
218   PCAR                                          PACCAR Inc
219    DLR                           Digital Realty Trust Inc.
220   TROW                                 T. Rowe Price Group
221    ADM                      Archer-Daniels-Midland Company
222     KR                                          Kroger Co.
223    CMI                                        Cummins Inc.
224   DLTR                                    Dollar Tree Inc.
225    AZO                                       AutoZone Inc.
226    WEC                                WEC Energy Group Inc
227   MNST                        Monster Beverage Corporation
228    APC                      Anadarko Petroleum Corporation
229  CCL.U                                Carnival Corporation
230    VTR                                         Ventas Inc.
231    HPE                      Hewlett Packard Enterprise Co.
232     PH                         Parker-Hannifin Corporation
233    IQV                                  IQVIA Holdings Inc
234    MSI                             Motorola Solutions Inc.
235   TWTR                                        Twitter Inc.
236   WLTW         Willis Towers Watson Public Limited Company
237     ES                                   Eversource Energy
238    PPL                                     PPL Corporation
239    ROK                            Rockwell Automation Inc.
240    DTE                                  DTE Energy Company
241    SYF                                 Synchrony Financial
242   APTV                                           Aptiv PLC
243   MCHP                   Microchip Technology Incorporated
244    TDG                        TransDigm Group Incorporated
245   SBAC                    SBA Communications Corp. Class A
246    SWK                         Stanley Black &amp; Decker Inc.
247    AMD                         Advanced Micro Devices Inc.
248   NTRS                          Northern Trust Corporation
249      O                           Realty Income Corporation
250   VRSK                                Verisk Analytics Inc
251    BXP                              Boston Properties Inc.
252    UAL                    United Continental Holdings Inc.
253    RCL                        Royal Caribbean Cruises Ltd.
254    CLX                                      Clorox Company
255    FLT                          FleetCor Technologies Inc.
256    EIX                                Edison International
257    GPN                                Global Payments Inc.
258    HRS                                  Harris Corporation
259     IP                         International Paper Company
260     FE                                   FirstEnergy Corp.
261     WY                                Weyerhaeuser Company
262   INFO                                     IHS Markit Ltd.
263   CERN                                  Cerner Corporation
264   VRSN                                       VeriSign Inc.
265    NUE                                   Nucor Corporation
266    BLL                                    Ball Corporation
267   ALGN                               Align Technology Inc.
268    TSN                            Tyson Foods Inc. Class A
269    AMP                           Ameriprise Financial Inc.
270    KEY                                             KeyCorp
271    DXC                                  DXC Technology Co.
272    ESS                           Essex Property Trust Inc.
273   IDXX                             IDEXX Laboratories Inc.
274    AME                                         AMETEK Inc.
275   FITB                                 Fifth Third Bancorp
276    WAT                                  Waters Corporation
277   FAST                                    Fastenal Company
278    FCX                               Freeport-McMoRan Inc.
279    AWK                   American Water Works Company Inc.
280    NEM                          Newmont Mining Corporation
281   CTAS                                  Cintas Corporation
282    CFG                       Citizens Financial Group Inc.
283   ULTA                                     Ulta Beauty Inc
284    HIG              Hartford Financial Services Group Inc.
285    FRC                                 First Republic Bank
286    CBS                             CBS Corporation Class B
287    RSG                              Republic Services Inc.
288   KLAC                              KLA-Tencor Corporation
289    AEE                                  Ameren Corporation
290    MTD                   Mettler-Toledo International Inc.
291    OMC                                   Omnicom Group Inc
292    CAH                                Cardinal Health Inc.
293     RF                       Regions Financial Corporation
294   NTAP                                         NetApp Inc.
295    LLL                                 L3 Technologies Inc
296    MYL                                          Mylan N.V.
297   ABMD                                        ABIOMED Inc.
298   FANG                             Diamondback Energy Inc.
299    ETR                                 Entergy Corporation
300   EVRG                                         Evergy Inc.
301   CBRE                             CBRE Group Inc. Class A
302   MXIM                      Maxim Integrated Products Inc.
303    CHD                            Church &amp; Dwight Co. Inc.
304    GPC                               Genuine Parts Company
305    MKC                    McCormick &amp; Company Incorporated
306    TSS                          Total System Services Inc.
307   MSCI                                   MSCI Inc. Class A
308     LH          Laboratory Corporation of America Holdings
309    HSY                                     Hershey Company
310    CNP                             CenterPoint Energy Inc.
311   EXPE                                  Expedia Group Inc.
312   KEYS                           Keysight Technologies Inc
313   HBAN                  Huntington Bancshares Incorporated
314   SNPS                                       Synopsys Inc.
315    CMS                              CMS Energy Corporation
316    CMG                         Chipotle Mexican Grill Inc.
317   SWKS                             Skyworks Solutions Inc.
318    VMC                            Vulcan Materials Company
319   SYMC                                Symantec Corporation
320    HCP                                            HCP Inc.
321   CDNS                         Cadence Design Systems Inc.
322   INCY                                  Incyte Corporation
323   ANSS                                          ANSYS Inc.
324    MRO                            Marathon Oil Corporation
325    HES                                    Hess Corporation
326    AJG                           Arthur J. Gallagher &amp; Co.
327    MGM                           MGM Resorts International
328    GWW                                  W.W. Grainger Inc.
329      K                                     Kellogg Company
330    AAL                        American Airlines Group Inc.
331    LEN                          Lennar Corporation Class A
332    ARE                Alexandria Real Estate Equities Inc.
333    RMD                                         ResMed Inc.
334    BBY                                   Best Buy Co. Inc.
335    CMA                               Comerica Incorporated
336    WCG                          WellCare Health Plans Inc.
337    DRI                             Darden Restaurants Inc.
338    ABC                       AmerisourceBergen Corporation
339    WDC                         Western Digital Corporation
340    HST                          Host Hotels &amp; Resorts Inc.
341    DHI                                    D.R. Horton Inc.
342   CTXS                                 Citrix Systems Inc.
343    TXT                                        Textron Inc.
344   ANET                                Arista Networks Inc.
345    COO                               Cooper Companies Inc.
346    DOV                                   Dover Corporation
347    PFG                      Principal Financial Group Inc.
348    TFX                               Teleflex Incorporated
349    DVN                            Devon Energy Corporation
350    IFF             International Flavors &amp; Fragrances Inc.
351    LNC                        Lincoln National Corporation
352    XYL                                          Xylem Inc.
353   BHGE                   Baker Hughes a GE Company Class A
354    EFX                                        Equifax Inc.
355     CE                                Celanese Corporation
356    CTL                                    CenturyLink Inc.
357      L                                   Loews Corporation
358   SIVB                                 SVB Financial Group
359     IT                                        Gartner Inc.
360   CINF                    Cincinnati Financial Corporation
361   EXPD         Expeditors International of Washington Inc.
362   CHRW                        C.H. Robinson Worldwide Inc.
363    APA                                  Apache Corporation
364    EXR                            Extra Space Storage Inc.
365   HOLX                                        Hologic Inc.
366    AAP                             Advance Auto Parts Inc.
367    NRG                                     NRG Energy Inc.
368    UDR                                            UDR Inc.
369   ETFC                       E*TRADE Financial Corporation
370    VAR                         Varian Medical Systems Inc.
371   WYNN                                Wynn Resorts Limited
372    CAG                                 Conagra Brands Inc.
373   FTNT                                       Fortinet Inc.
374    STX                              Seagate Technology PLC
375    DGX                      Quest Diagnostics Incorporated
376    MLM                      Martin Marietta Materials Inc.
377   TSCO                              Tractor Supply Company
378    VNO                                Vornado Realty Trust
379    MAA              Mid-America Apartment Communities Inc.
380    HRL                            Hormel Foods Corporation
381     BR                 Broadridge Financial Solutions Inc.
382    SJM                                J.M. Smucker Company
383    EMN                            Eastman Chemical Company
384    UHS              Universal Health Services Inc. Class B
385   NCLH                 Norwegian Cruise Line Holdings Ltd.
386    MAS                                   Masco Corporation
387   AKAM                            Akamai Technologies Inc.
388    ATO                            Atmos Energy Corporation
389    TAP                Molson Coors Brewing Company Class B
390    MOS                                      Mosaic Company
391    FMC                                     FMC Corporation
392    NOV                         National Oilwell Varco Inc.
393    REG                         Regency Centers Corporation
394    URI                                 United Rentals Inc.
395    COG                         Cabot Oil &amp; Gas Corporation
396    AES                                     AES Corporation
397    KSS                                  Kohl's Corporation
398    KMX                                         CarMax Inc.
399    KSU                                Kansas City Southern
400   CPRT                                         Copart Inc.
401    NBL                                   Noble Energy Inc.
402    RJF                        Raymond James Financial Inc.
403   TTWO                  Take-Two Interactive Software Inc.
404    DRE                             Duke Realty Corporation
405    LNT                                 Alliant Energy Corp
406   CBOE                             Cboe Global Markets Inc
407   FFIV                                    F5 Networks Inc.
408   JKHY                        Jack Henry &amp; Associates Inc.
409     LW                           Lamb Weston Holdings Inc.
410    PKI                                    PerkinElmer Inc.
411    TPR                                       Tapestry Inc.
412   VIAB                                 Viacom Inc. Class B
413    FTI                                      TechnipFMC Plc
414    HAS                                         Hasbro Inc.
415   NDAQ                                         Nasdaq Inc.
416    IRM                                  Iron Mountain Inc.
417    PNW                   Pinnacle West Capital Corporation
418    WRK                                    WestRock Company
419  DISCK                              Discovery Inc. Class C
420    BEN                             Franklin Resources Inc.
421    TIF                                       Tiffany &amp; Co.
422    FRT                     Federal Realty Investment Trust
423     NI                                        NiSource Inc
424   JBHT                   J.B. Hunt Transport Services Inc.
425   ZION                           Zions Bancorporation N.A.
426     CF                         CF Industries Holdings Inc.
427   XRAY                                DENTSPLY SIRONA Inc.
428   HSIC                                   Henry Schein Inc.
429    HII                  Huntington Ingalls Industries Inc.
430   JNPR                               Juniper Networks Inc.
431    HFC                           HollyFrontier Corporation
432   NLSN                                Nielsen Holdings Plc
433    PKG                    Packaging Corporation of America
434    AVY                          Avery Dennison Corporation
435    IPG                 Interpublic Group of Companies Inc.
436    SNA                                Snap-on Incorporated
437    WHR                               Whirlpool Corporation
438     RE                               Everest Re Group Ltd.
439    ALB                               Albemarle Corporation
440    MHK                              Mohawk Industries Inc.
441    BWA                                     BorgWarner Inc.
442   ALLE                                        Allegion PLC
443   GRMN                                         Garmin Ltd.
444    PVH                                           PVH Corp.
445    TMK                               Torchmark Corporation
446    LKQ                                     LKQ Corporation
447    ADS                   Alliance Data Systems Corporation
448   BF.B                    Brown-Forman Corporation Class B
449    RHI                      Robert Half International Inc.
450    JEC                       Jacobs Engineering Group Inc.
451    ALK                               Alaska Air Group Inc.
452   QRVO                                          Qorvo Inc.
453     WU                               Western Union Company
454    UNM                                          Unum Group
455    SLG                               SL Green Realty Corp.
456    AIV Apartment Investment and Management Company Class A
457    IVZ                                        Invesco Ltd.
458      M                                          Macy's Inc
459   ARNC                                        Arconic Inc.
460    KIM                            Kimco Realty Corporation
461    DVA                                         DaVita Inc.
462    NWL                                   Newell Brands Inc
463    AOS                             A. O. Smith Corporation
464    XEC                                  Cimarex Energy Co.
465   NKTR                                 Nektar Therapeutics
466   FLIR                                   FLIR Systems Inc.
467    PHM                                     PulteGroup Inc.
468     RL                    Ralph Lauren Corporation Class A
469   DISH                    DISH Network Corporation Class A
470    PNR                                         Pentair plc
471     FL                                    Foot Locker Inc.
472    HBI                                    Hanesbrands Inc.
473    XRX                                   Xerox Corporation
474   FBHS                 Fortune Brands Home &amp; Security Inc.
475    SEE                              Sealed Air Corporation
476   CPRI                              Capri Holdings Limited
477    CPB                               Campbell Soup Company
478   PBCT                      People's United Financial Inc.
479     LB                                       L Brands Inc.
480    FLS                               Flowserve Corporation
481     HP                              Helmerich &amp; Payne Inc.
482    HOG                                Harley-Davidson Inc.
483   PRGO                                     Perrigo Co. Plc
484    JEF                      Jefferies Financial Group Inc.
485    ROL                                        Rollins Inc.
486    LEG                        Leggett &amp; Platt Incorporated
487    AMG                      Affiliated Managers Group Inc.
488   TRIP                                    TripAdvisor Inc.
489   IPGP                           IPG Photonics Corporation
490    GPS                                            Gap Inc.
491    PWR                                Quanta Services Inc.
492    AIZ                                       Assurant Inc.
493    JWN                                      Nordstrom Inc.
494    FLR                                   Fluor Corporation
495    BHF                          Brighthouse Financial Inc.
496   COTY                                   Coty Inc. Class A
497    HRB                                      H&amp;R Block Inc.
498   NWSA                            News Corporation Class A
499    MAT                                         Mattel Inc.
500    MAC                                    Macerich Company
501  DISCA                              Discovery Inc. Class A
502     GT                      Goodyear Tire &amp; Rubber Company
503    UAA                           Under Armour Inc. Class A
504     UA                           Under Armour Inc. Class C
505    NWS                            News Corporation Class B
506 ECA-CA                                  Encana Corporation
                    sector value           V1           V2
1   Information Technology     9  0.260716116  3.167688761
2   Information Technology     9  0.013019718  3.087163882
3   Consumer Discretionary     9  0.460764224  3.414474621
4               Financials    NA           NA           NA
5   Communication Services     9  0.262769444  3.318719821
6              Health Care     7 -0.648425906 -0.109705952
7               Financials     8 -1.973083168 -1.885560562
8   Communication Services     9  0.338977763  3.245992796
9   Communication Services     9  0.211700494  3.386919837
10                  Energy     1  4.426345202  2.122714313
11              Financials     8 -2.035066651 -2.051645670
12             Health Care     7  0.134997412  0.271085482
13  Information Technology     9  0.152990911  2.889022928
14        Consumer Staples     4  1.612086339 -2.070474400
15             Health Care     7 -0.817806322 -0.070099053
16  Information Technology     9 -1.013674771  3.152859940
17                  Energy     1  4.489362784  1.968473742
18  Communication Services     4  0.905830858 -1.615640606
19  Information Technology     9 -0.200322237  2.844653883
20  Communication Services     5  0.370517971 -1.478170524
21             Industrials     2 -1.316563611  1.655709539
22  Consumer Discretionary     2  0.868526276  0.311004065
23              Financials     8 -1.783400183 -2.216529171
24             Health Care     7 -0.756695456 -0.431425018
25  Information Technology     9  0.604526735  3.110396307
26        Consumer Staples     4  1.104510716 -1.590511219
27  Communication Services     5 -0.598031592 -1.035641700
28  Communication Services     5 -0.359426761 -1.120442092
29        Consumer Staples     4  1.473395222 -1.938486405
30              Financials     8 -2.005877628 -1.884302851
31  Communication Services     9  0.513065126  3.591720807
32        Consumer Staples     5  0.771180291 -0.698652533
33  Consumer Discretionary     7  0.153968931 -0.340488893
34             Health Care     7 -0.261747910  1.348139109
35  Information Technology     7 -1.183039306  1.088808877
36        Consumer Staples     5  1.362908248 -2.002610841
37  Information Technology     9  0.570259402  3.431888821
38  Information Technology     7 -0.388009409  0.616610077
39             Industrials     2 -1.964921167  0.561281219
40               Materials     2 -2.385325224  2.088240293
41             Health Care     7 -0.332982157  1.180081822
42             Health Care     7 -0.965193504 -0.019313988
43             Industrials     2 -2.513285255  1.350138634
44  Information Technology     9  0.746370181  3.396749116
45             Health Care     5 -0.596967637 -0.039941876
46  Information Technology     9 -0.976900231  1.939406482
47             Health Care     7 -0.878268341 -0.245995008
48             Industrials     7 -1.250984493  0.988721598
49  Information Technology     9  0.384368968  3.108680147
50  Consumer Discretionary     7 -0.641148591  1.237317684
51             Industrials     2 -2.330720959  0.836135520
52  Information Technology     9 -1.123766564  3.277368403
53             Health Care     7 -0.855490928  1.751303845
54  Information Technology     7  0.059800141  1.630353706
55  Information Technology     9  0.819065792  3.523857158
56        Consumer Staples     7  0.642728414 -0.422430092
57               Materials     7 -1.003341835  0.209137909
58        Consumer Staples     5  1.382569351 -1.897533205
59             Health Care     5 -0.343455359 -0.528378459
60  Consumer Discretionary     7  0.001225988  2.219279668
61               Utilities     4  2.921042026 -3.299034764
62             Industrials     5 -1.698118450 -0.916447108
63  Consumer Discretionary     7 -0.654096185  0.470789394
64             Health Care     5 -0.558474490 -0.301503522
65             Health Care     7 -0.781895777  0.323526355
66  Consumer Discretionary    10  0.859991887  0.750313841
67                  Energy     1  4.724834378  2.088373787
68             Health Care     7  0.185351196  0.290922037
69             Industrials     2 -2.606834781  1.787195931
70             Real Estate     4  3.043037413 -6.242286385
71              Financials     8 -1.342077219 -1.585615335
72             Industrials     2 -1.517632147  0.170258431
73             Industrials     7 -3.377515969  1.400602012
74              Financials     8 -1.619240648 -1.827869403
75             Health Care     7  0.088050850  0.173376795
76        Consumer Staples     5  1.314649700 -1.768836443
77              Financials     8 -2.049889584 -1.863748423
78             Health Care     7 -0.609311573  1.228986682
79             Health Care     5 -0.700309360 -0.074762732
80             Health Care     7 -0.417071000  1.277290529
81  Information Technology     7  0.472963478  1.982851119
82             Health Care     5 -0.403804456 -0.446515120
83  Information Technology     2 -1.355406990  1.566924418
84              Financials     7 -1.040317160 -0.945632296
85  Consumer Discretionary    10  1.103110608  0.111045042
86             Health Care     9  0.599510179  3.138640833
87               Utilities     4  3.228701507 -2.846020996
88  Communication Services     5 -0.557349964 -0.866029671
89                  Energy     1  4.611487579  2.135032908
90              Financials     7 -1.254248938 -0.878108644
91  Information Technology     9  0.810551165  3.126093869
92        Consumer Staples     5  0.271408454 -0.578991383
93             Industrials     2 -1.912967496  0.646034710
94                  Energy     1  4.926824476  2.067834887
95             Health Care     7 -0.394118564  1.154971143
96              Financials     8 -1.837607927 -2.496788803
97        Consumer Staples     4  1.634566895 -2.114694490
98             Real Estate     4  3.229959578 -6.870658030
99              Financials     8 -2.079748036 -2.234214092
100            Health Care     7 -0.499415751  1.439419212
101              Utilities     4  3.273865805 -3.007834849
102             Financials     8 -2.047536169 -2.063809476
103 Communication Services     5 -0.113511493 -0.978101469
104             Financials     8 -2.174226327 -2.148238237
105            Industrials     7 -3.344754837  1.365802433
106                 Energy     1  4.488350602  1.924728489
107 Consumer Discretionary     2 -1.897605868 -1.151163823
108            Industrials     2 -2.569375646  1.753377003
109              Utilities     4  3.217563524 -2.950188181
110            Industrials     2 -1.849765533  0.656042703
111            Industrials     7 -3.344923575  1.373865919
112             Financials     7  0.422594661  2.192877931
113            Real Estate     4  3.044829942 -6.105020946
114            Industrials     7 -3.280984152  1.369038928
115             Financials     8 -2.202829135 -2.255043043
116            Health Care     9 -0.099506171  2.913853108
117 Information Technology     9 -1.486535979  3.540096490
118              Utilities     4  2.888808738 -3.187490837
119             Financials     7 -1.085615826 -0.596996531
120            Health Care     7 -0.524674783  1.395801665
121                 Energy     1  4.020006898  1.873623371
122            Real Estate     4  2.999581100 -6.506396504
123             Financials     8 -2.388172503 -1.762520180
124            Industrials     2 -2.549171970  1.363478911
125            Health Care     5 -1.403048175 -1.278850548
126            Health Care     9  0.363306142  3.016128773
127            Industrials     2 -1.746340470  0.297981193
128             Financials     7 -1.115379306 -1.016651872
129            Industrials     2 -2.283670121  1.429349995
130            Health Care     7  0.161559524  0.226507640
131 Information Technology     7  0.141324190  1.855912947
132             Financials     7 -1.194885755 -0.535598653
133              Materials     7 -0.371247322  0.500175341
134             Financials     7 -1.333713705 -0.584287052
135       Consumer Staples     4  2.151387645 -2.431752266
136                 Energy     1  4.137920685  1.910898026
137             Financials     8 -2.381672038 -1.727246393
138 Information Technology     9 -1.173994861  3.227446115
139             Financials     8 -1.832363314 -2.607162023
140              Utilities     4  3.180439107 -2.900004363
141             Financials     8 -1.851745060 -1.895898850
142            Industrials     7 -0.191712816 -0.376444672
143            Health Care     7 -0.251343477 -0.035711579
144 Information Technology     9 -1.333985555  3.433646842
145 Consumer Discretionary    10  1.247923586 -0.096789874
146              Materials     2 -1.440327394  1.295433076
147             Financials     7 -1.328328082 -0.924760080
148             Financials     8 -1.691014492 -1.159020929
149            Health Care     9  0.289622649  2.733548576
150 Information Technology     2 -0.918958869  2.821011802
151            Health Care     7 -0.182204830  1.118384201
152              Materials     2 -1.354746039  0.906175531
153                 Energy     1  3.958392630  1.884429365
154 Information Technology     7  0.187377800  1.369585631
155                 Energy     1  4.345715995  1.776654213
156 Consumer Discretionary    10  1.205875948  0.021639285
157 Information Technology     9  0.613375746  3.405376667
158 Consumer Discretionary     7 -0.501354306  2.058943109
159       Consumer Staples     7 -0.078919420  1.071045845
160 Information Technology     7  0.301878975  1.186993287
161             Financials     7 -1.371860642 -0.827333699
162            Industrials     2 -2.218126333  1.572503162
163            Real Estate     4  2.911251637 -6.445178270
164 Communication Services     9  0.237635466  3.160881047
165 Consumer Discretionary     2 -1.797744654 -0.963155514
166 Consumer Discretionary     7 -1.520318117  1.113618856
167                 Energy     1  4.480435524  1.774042441
168            Health Care     5 -0.423463567  0.965507435
169 Communication Services     9  0.623096093  3.381358885
170             Financials     7 -1.429917576 -0.699140821
171            Industrials     2 -1.799804019  0.379991585
172       Consumer Staples     7  0.109394983 -0.576653755
173            Industrials     7 -2.418225963  1.374198177
174            Industrials     2 -2.833692098  0.382449816
175 Information Technology    10  0.197619812  0.650237871
176 Consumer Discretionary    10  1.121168098 -0.101779502
177              Utilities     4  3.007629422 -3.343697480
178 Consumer Discretionary    10  0.781893760  0.061717717
179            Real Estate     4  3.117777771 -6.763143460
180 Information Technology     9 -1.178608865  3.347567899
181             Financials     8 -1.878569973 -2.879758647
182 Consumer Discretionary     7  0.117720995  0.620430772
183            Industrials     2 -2.795356544  0.387218342
184       Consumer Staples     5  1.696836753 -1.925120458
185            Real Estate     4  3.326229495 -7.080550458
186       Consumer Staples     7 -0.178048953  0.507475588
187            Health Care     9 -0.042989804  2.959843720
188 Information Technology     2 -1.711730772  2.363493914
189 Information Technology     9 -1.422805067  3.470834999
190              Utilities     4  3.087217469 -3.082424766
191 Consumer Discretionary    10 -0.042047993  1.077692529
192             Financials     7  0.349620313  2.175462336
193                 Energy     1  4.682920544  2.200468667
194              Materials     2 -2.378372871  2.359495806
195 Information Technology     2 -1.902993327  1.773600188
196                 Energy     1  4.549735981  1.942551887
197 Information Technology     7 -1.166195006  1.834273781
198              Utilities     4  2.954498122 -2.797910977
199            Real Estate     4  3.046338154 -6.659368778
200            Health Care     5 -0.434332509 -0.709724314
201            Real Estate     4  2.923089403 -6.660341992
202       Consumer Staples     4  1.894820856 -1.949303726
203             Financials     8 -2.211369527 -2.147166224
204            Health Care     7  0.348521295  0.329189185
205              Materials     2 -1.623117345  1.434364699
206            Industrials     2 -1.942734224  1.096033725
207            Health Care     7 -0.230345046  1.152870777
208            Health Care     7 -0.763967690  1.653807837
209             Financials     8 -2.018231091 -2.670504163
210                 Energy     1  4.926273705  2.071563157
211                 Energy     1  4.886369129  1.995001010
212             Financials     8 -1.631716796 -1.956851778
213              Utilities     4  3.183319178 -3.046682472
214 Consumer Discretionary     7 -0.387993386  1.966691979
215 Communication Services     5 -0.127204353 -0.995352626
216 Information Technology     7 -0.068618770  0.554966199
217            Industrials     2 -1.873884274  1.388216598
218            Industrials     2 -2.586337452  1.559908919
219            Real Estate     4  2.982020148 -6.606738192
220             Financials     8 -2.149214579 -2.000695633
221       Consumer Staples     5  0.236964255 -0.855263365
222       Consumer Staples    10  0.816459285 -0.643142077
223            Industrials     2 -2.560927111  1.615208671
224 Consumer Discretionary    10  0.722236608 -0.291416162
225 Consumer Discretionary    10  0.758564889 -0.130277574
226              Utilities     4  2.861396428 -3.146764261
227       Consumer Staples     7 -0.028390349  0.781949135
228                 Energy     1  5.024808064  2.090990196
229 Consumer Discretionary    NA           NA           NA
230            Real Estate     4  3.254732354 -7.026957460
231 Information Technology     9 -0.943460973  2.606919001
232            Industrials     2 -2.514091783  1.711281951
233            Health Care     7 -0.565486843  1.880716342
234 Information Technology     7  0.506248455  1.579093455
235 Communication Services     9  0.283155915  3.324320140
236             Financials     7 -1.200944331 -0.474153537
237              Utilities     4  3.072189663 -2.754475001
238              Utilities     4  3.254154727 -2.840144535
239            Industrials     2 -2.275157072  1.562460556
240              Utilities     4  3.192071962 -2.949711136
241             Financials     8 -1.586338544 -2.251089465
242 Consumer Discretionary     2 -2.038163613  2.016695536
243 Information Technology     9 -1.004266156  3.251099894
244            Industrials     2 -1.736397774  1.585466320
245            Real Estate     4  3.027895517 -6.061797451
246            Industrials     2 -2.352701364  1.178599719
247 Information Technology     9  0.756062222  3.503804574
248             Financials     8 -2.121135846 -2.046270221
249            Real Estate     4  3.209801465 -6.625701190
250            Industrials     7  0.066064748  0.947533166
251            Real Estate     4  2.982975181 -6.798027768
252            Industrials     2 -2.814213910  0.272525863
253 Consumer Discretionary     2 -0.522855609  2.135227011
254       Consumer Staples     4  2.028915373 -2.322446256
255 Information Technology     7  0.420381299  2.345080377
256              Utilities     4  3.362669109 -2.971425515
257 Information Technology     9  0.570494958  2.892378808
258            Industrials     7 -3.189687911  1.475786784
259              Materials     2 -2.513561169  1.136212864
260              Utilities     4  3.017953345 -2.840788612
261            Real Estate     5  2.776425245 -6.850187881
262            Industrials     7  0.090842574  1.515054227
263            Health Care     5 -0.177096077  0.999328602
264 Information Technology     7  0.615322629  2.753586542
265              Materials     2 -1.798909884  1.151731889
266              Materials     7 -0.822504143  0.630548180
267            Health Care     9  0.687374873  3.357910034
268       Consumer Staples     4  1.620196092 -2.140140525
269             Financials     8 -2.342550046 -1.741947927
270             Financials     8 -1.901564088 -2.913446688
271 Information Technology     7  0.329599347  1.536997724
272            Real Estate     4  2.940762120 -6.588761501
273            Health Care     9  0.162133529  3.106159984
274            Industrials     2 -2.140777062  1.579891429
275             Financials     8 -1.928064776 -2.845947341
276            Health Care     7 -0.895836522  1.725946918
277            Industrials     7 -0.897545953  0.712088979
278              Materials     1 -2.576215185  2.042725431
279              Utilities     4  2.852219749 -3.125138718
280              Materials     7  0.013380558  0.007635552
281            Industrials     7 -0.047464231  1.295827267
282             Financials     8 -1.819917620 -2.888234798
283 Consumer Discretionary    10  0.137217571  0.763530890
284             Financials     7 -1.500313820 -0.903006246
285             Financials     8 -1.734480785 -2.575634862
286 Communication Services     5 -0.525565970 -1.289867681
287            Industrials     7 -0.062384547 -0.341517590
288 Information Technology     9 -1.398844477  3.477178818
289              Utilities     4  2.967209164 -3.116074349
290            Health Care     7 -0.837821841  1.776717894
291 Communication Services     5 -0.605936998 -1.076887686
292            Health Care     5 -0.429603676 -0.683601947
293             Financials     8 -1.881054003 -2.905133857
294 Information Technology     9  0.157181973  2.821098854
295            Industrials     7 -3.266936944  1.341155496
296            Health Care     2 -1.826373277 -1.523834201
297            Health Care     9  0.436162931  3.101311474
298                 Energy     1  4.944103214  1.998427026
299              Utilities     4  3.109321788 -3.029101348
300              Utilities     4  3.179722836 -3.159665379
301            Real Estate     2 -1.527849472  1.871235557
302 Information Technology     9 -1.092948409  3.325992255
303       Consumer Staples     4  2.167493693 -2.443785924
304 Consumer Discretionary     7  0.576104742 -0.293756764
305       Consumer Staples     4  1.860950681 -1.992582771
306 Information Technology     7  0.304749643  2.625510507
307             Financials     7  0.477427392  2.264056147
308            Health Care     5 -0.211815405 -0.293357329
309       Consumer Staples     4  2.088787595 -2.129412829
310              Utilities     4  2.939739525 -2.989842162
311 Consumer Discretionary     7  0.043604874  1.582919401
312 Information Technology     9  0.245921836  2.143791172
313             Financials     8 -1.829627949 -2.714215467
314 Information Technology     9  0.720262601  3.111887119
315              Utilities     4  3.065215878 -2.939364556
316 Consumer Discretionary    10  0.497370367  0.371130372
317 Information Technology     9 -1.042689318  3.379078742
318              Materials     2 -0.719290096  0.776476977
319 Information Technology     7 -0.949296410  1.204022551
320            Real Estate     4  3.218036182 -7.008022207
321 Information Technology     9  0.521366605  3.173530493
322            Health Care     9 -0.285301065  2.735908580
323 Information Technology     9  0.590847429  3.202590370
324                 Energy     1  5.018361866  2.162239433
325                 Energy     1  4.894706833  1.917035080
326             Financials     7 -1.046876355 -0.428675982
327 Consumer Discretionary     2 -1.953551877  1.713565689
328            Industrials     7 -1.084885392  0.762613683
329       Consumer Staples     4  1.961794765 -2.011579679
330            Industrials     2 -2.697539923  0.455160763
331 Consumer Discretionary     2 -2.284159971  0.110195804
332            Real Estate     4  2.824857484 -6.766293973
333            Health Care     7 -0.494973055  1.443566842
334 Consumer Discretionary    10  1.048860532  0.443322184
335             Financials     8 -1.969114453 -2.718733777
336            Health Care     7  0.252720438  0.309657184
337 Consumer Discretionary     7 -0.445983139  0.011772810
338            Health Care     5 -0.505640554 -0.659460966
339 Information Technology     9 -1.351430646  2.964095907
340            Real Estate     7  2.883934857 -6.800370654
341 Consumer Discretionary     2 -2.264692687  0.084123013
342 Information Technology     7  0.180229026  0.754974772
343            Industrials     2 -2.210354503  1.581990532
344 Information Technology     9  0.639220773  3.327946242
345            Health Care     7 -0.529289702  1.384777289
346            Industrials     2 -1.949543955  1.111489609
347             Financials     8 -2.397100216 -1.746897951
348            Health Care     7 -0.575749571  1.408918541
349                 Energy     1  4.925279951  2.039342895
350              Materials     7  0.155062493 -0.559641679
351             Financials     8 -2.447894870 -1.748731328
352            Industrials     2 -2.295643901  1.467907374
353                 Energy     1  4.577305005  2.068951921
354            Industrials     7 -0.446635571 -0.201165328
355              Materials     2 -2.010851549  1.958548228
356 Communication Services     5  0.503885366 -1.492801213
357             Financials     7 -1.234160893 -1.177049738
358             Financials     8 -2.064168181 -2.682854016
359 Information Technology     7  0.535178571  1.222889727
360             Financials     7 -1.256298565 -0.724240400
361            Industrials     2 -1.605814583  0.988738709
362            Industrials     7 -0.775640728  0.560789392
363                 Energy     1  4.773463827  1.967013819
364            Real Estate     4  3.115034430 -6.613795565
365            Health Care     7 -0.485375444  1.250509138
366 Consumer Discretionary    10  0.739034384 -0.031979809
367              Utilities     7  2.728681779 -2.921476746
368            Real Estate     4  2.941252283 -6.551597785
369             Financials     8 -1.990819346 -2.362807413
370            Health Care     7 -0.957262423  1.709098808
371 Consumer Discretionary     2 -1.973568932  1.739378621
372       Consumer Staples     4  1.555906578 -1.707383721
373 Information Technology     9  0.696463795  2.963781546
374 Information Technology     9 -1.296116174  2.807471003
375            Health Care     7 -0.095396146 -0.155467042
376              Materials     2 -0.594220480  0.820119296
377 Consumer Discretionary    10  0.898545001  0.267917983
378            Real Estate     4  2.854449316 -6.854256431
379            Real Estate     4  2.973564532 -6.593559883
380       Consumer Staples     4  1.773293609 -2.017794921
381 Information Technology     7  0.276138526  1.522641097
382       Consumer Staples     4  1.975906180 -2.003289560
383              Materials     2 -2.150295963  2.128219656
384            Health Care     5 -0.224041953 -0.409947273
385 Consumer Discretionary     2 -0.534869205  2.053304941
386            Industrials     2 -1.690308559  0.874260721
387 Information Technology     9  0.420808496  2.232363883
388              Utilities     4  2.751497128 -2.890271529
389       Consumer Staples     5  1.233743047 -1.565415549
390              Materials     2 -2.328432823  2.268830200
391              Materials     2 -2.315044829  2.099702426
392                 Energy     1  4.727440129  2.171658110
393            Real Estate     4  3.202222946 -6.893049295
394            Industrials     2 -2.415342221  1.860902783
395                 Energy     5  4.241418174  1.757744091
396              Utilities     4  3.056360836 -3.196733948
397 Consumer Discretionary    10  1.293044845 -0.119159893
398 Consumer Discretionary     2  0.585093024  0.015514705
399            Industrials     2 -1.781318071  0.518172170
400            Industrials     7  0.012437799  1.932307265
401                 Energy     1  5.127774192  2.096879168
402             Financials     8 -1.984813655 -2.197495996
403 Communication Services     9  0.486374408  3.402826872
404            Real Estate     4  2.973325423 -6.378937063
405              Utilities     4  2.955646443 -2.925386749
406             Financials     7 -1.094446954 -1.044948739
407 Information Technology     9  0.361996073  1.985805493
408 Information Technology     7  0.414278703  1.457288421
409       Consumer Staples     7  0.183601917 -0.308971526
410            Health Care     7 -0.804176315  1.854638352
411 Consumer Discretionary    10 -0.296064497  1.863608344
412 Communication Services     5 -0.513786792 -1.368708651
413                 Energy     1  4.682964373  2.152065409
414 Consumer Discretionary     7 -0.383943703  1.528884721
415             Financials     7 -1.122708864 -1.201049952
416            Real Estate     4  3.113656193 -6.595682257
417              Utilities     4  2.920084337 -3.029226311
418              Materials     2 -2.497219157  1.117567240
419 Communication Services     5 -0.495815709 -1.261736207
420             Financials     8 -1.841701302 -2.018507553
421 Consumer Discretionary    10 -1.161066873  2.219975935
422            Real Estate     4  3.089034521 -6.822432648
423              Utilities     4  3.194351027 -2.871942762
424            Industrials     2 -1.506250801  0.513886362
425             Financials     8 -1.898967369 -2.837895029
426              Materials     2 -2.121871153  2.334640406
427            Health Care     5 -0.557788963  0.749694383
428            Health Care     5 -0.663335510  0.774608558
429            Industrials     7 -3.306330519  1.250838294
430 Information Technology     7 -0.179195920  1.948395744
431                 Energy     1  4.020165442  1.876037662
432            Industrials     5 -1.337678159 -1.695877102
433              Materials     2 -2.507483441  1.171483161
434              Materials     2 -1.845147210  1.167861131
435 Communication Services     5 -0.678634782 -1.047904555
436            Industrials     2 -1.342164877  1.165116823
437 Consumer Discretionary     2 -1.484756899  0.582591472
438             Financials     7 -1.316530962 -0.897558998
439              Materials     2 -2.345959496  1.853096456
440 Consumer Discretionary     2 -1.626586797  0.761403250
441 Consumer Discretionary     2 -2.299458127  2.019106362
442            Industrials     2 -2.060945800  0.858504223
443 Consumer Discretionary     7 -0.188280562  0.695314345
444 Consumer Discretionary    10 -1.455182777  2.045010407
445             Financials     8 -1.665368996 -1.262709583
446 Consumer Discretionary     2 -2.331395655  0.994904620
447 Information Technology     2 -1.056284516  0.923359008
448       Consumer Staples    NA           NA           NA
449            Industrials     2  0.390887895  2.521613959
450            Industrials     2 -1.889625938  1.414742903
451            Industrials     2 -2.778028281  0.396301737
452 Information Technology     9 -1.080261571  3.351043256
453 Information Technology     7  0.022849472  0.670098942
454             Financials     8 -2.431834891 -1.727869219
455            Real Estate     4  2.824873150 -6.752579019
456            Real Estate     4  3.022944826 -6.586059996
457             Financials     8 -1.874904255 -1.955835196
458 Consumer Discretionary    10  1.290385055 -0.040123912
459            Industrials     2 -2.301233556  0.841953923
460            Real Estate     4  3.188250184 -6.919701105
461            Health Care     5 -0.132653538  0.052854686
462 Consumer Discretionary     2 -1.901868405  0.358255129
463            Industrials     2 -1.991668468  1.392254228
464                 Energy     1  4.920799879  2.001695206
465            Health Care     3 -0.519281513  1.716820018
466 Information Technology     7 -0.306820044  2.514297910
467 Consumer Discretionary     2 -2.328930520  0.047934615
468 Consumer Discretionary    10 -1.286832569  2.240678120
469 Communication Services     5 -0.669112346 -1.291759415
470            Industrials     2 -2.363789208  1.407295359
471 Consumer Discretionary    10  0.844495983  0.477626536
472 Consumer Discretionary    10 -1.929305208 -2.832201771
473 Information Technology     2 -0.973114347  0.741919669
474            Industrials     2 -1.624879571  0.789747282
475              Materials     2 -0.832247866 -0.146513260
476 Consumer Discretionary    10 -1.437608997  2.012856848
477       Consumer Staples     4  2.060378700 -2.043506933
478             Financials     8 -1.539664682 -2.507223859
479 Consumer Discretionary    10  1.188459607 -0.150346301
480            Industrials     2 -2.331970743  1.525199494
481                 Energy     1  4.758667029  2.001989344
482 Consumer Discretionary     2 -2.323576642 -1.621659083
483            Health Care     5 -1.267464900 -1.494524307
484             Financials     8 -1.699796895 -1.683864839
485            Industrials     7  0.192204094  0.992569061
486 Consumer Discretionary     2 -1.572159469  0.835437894
487             Financials     8 -1.908899440 -2.046106577
488 Communication Services     9  0.337681280  2.750033263
489 Information Technology     9 -1.588168614  2.458877173
490 Consumer Discretionary    10  1.262026877 -0.053703745
491            Industrials     2 -2.137950607  1.593139686
492             Financials     7 -1.507842739 -0.912193600
493 Consumer Discretionary    10  1.280423169 -0.122796257
494            Industrials     2 -1.916419988  1.730939912
495             Financials     8 -2.346584472 -1.784762599
496       Consumer Staples     6  0.581277004  1.566461724
497 Consumer Discretionary     7 -0.437590322  0.432311672
498 Communication Services     7 -0.932605919  1.173438041
499 Consumer Discretionary     6  0.526190605  2.007827757
500            Real Estate     4  3.189281676 -6.796635394
501 Communication Services     5 -0.503471690 -1.269616717
502 Consumer Discretionary     2 -2.252811098  2.128081191
503 Consumer Discretionary     6  0.007891104  1.805829809
504 Consumer Discretionary     6  0.045872782  1.754849556
505 Communication Services     7 -0.840719068  1.062459745
506                 Energy    NA           NA           NA</code></pre>
</div>
</div>
<p>Plot the K-Means and UMAP results.</p>
<ul>
<li>Begin with the <code>umap_kmeans_results_tbl</code></li>
<li>Use <code>ggplot()</code> mapping <code>V1</code>, <code>V2</code> and <code>color = .cluster</code></li>
<li>Add the <code>geom_point()</code> geometry with <code>alpha = 0.5</code></li>
<li>Apply colors as you desire (e.g.&nbsp;<code>scale_color_manual(values = palette_light() %&gt;% rep(3))</code>)</li>
</ul>
<div class="cell" data-hash="Chapter_1_Challenge_cache/html/unnamed-chunk-21_5140724f147c6c72b29195cd5fc150c2">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize the combined K-Means and UMAP results</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(umap_kmeans_results_tbl, <span class="fu">aes</span>(<span class="at">x =</span> V1, <span class="at">y =</span> V2, <span class="at">color =</span> value)) <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="Chapter_1_Challenge_files/figure-html/unnamed-chunk-21-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="Chapter_1_Challenge_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>Congratulations! You are done with the 1st challenge!</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'alternate';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"loop":true,"selector":".lightbox","descPosition":"bottom","closeEffect":"zoom","openEffect":"zoom"});</script>



</body></html>